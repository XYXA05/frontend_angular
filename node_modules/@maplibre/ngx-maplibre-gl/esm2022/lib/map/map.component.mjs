import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output, ViewChild, afterNextRender, } from '@angular/core';
import { MapService } from './map.service';
import { firstValueFrom } from 'rxjs';
import * as i0 from "@angular/core";
import * as i1 from "./map.service";
/**
 * `mgl-map` - The main map component
 * @see [Map](https://maplibre.org/maplibre-gl-js/docs/API/classes/Map/)
 *
 * @category Map Component
 *
 * @example
 * ```typescript
 * ...
 * @Component({
 *   template: `
 *   <mgl-map
 *     [style]="'https://demotiles.maplibre.org/style.json'"
 *     [zoom]="[9]"
 *     [center]="[-74.50, 40]"
 *     (mapLoad)="map = $event"
 *   ></mgl-map>
 *   `,
 * ...
 * })
 * export class DisplayMapComponent {
 *   map: Map; // MapLibre GL Map object (MapLibre is ran outside angular zone, keep that in mind when binding events from this object)
 * ...
 * }
 * ```
 */
export class MapComponent {
    get mapInstance() {
        return this.mapService.mapInstance;
    }
    constructor(mapService, elementRef) {
        this.mapService = mapService;
        this.elementRef = elementRef;
        /** Added by ngx-mapbox-gl */
        this.movingMethod = 'flyTo';
        this.mapResize = new EventEmitter();
        this.mapRemove = new EventEmitter();
        this.mapMouseDown = new EventEmitter();
        this.mapMouseUp = new EventEmitter();
        this.mapMouseMove = new EventEmitter();
        this.mapClick = new EventEmitter();
        this.mapDblClick = new EventEmitter();
        this.mapMouseOver = new EventEmitter();
        this.mapMouseOut = new EventEmitter();
        this.mapContextMenu = new EventEmitter();
        this.mapTouchStart = new EventEmitter();
        this.mapTouchEnd = new EventEmitter();
        this.mapTouchMove = new EventEmitter();
        this.mapTouchCancel = new EventEmitter();
        this.mapWheel = new EventEmitter();
        this.moveStart = new EventEmitter();
        this.move = new EventEmitter();
        this.moveEnd = new EventEmitter();
        this.mapDragStart = new EventEmitter();
        this.mapDrag = new EventEmitter();
        this.mapDragEnd = new EventEmitter();
        this.zoomStart = new EventEmitter();
        this.zoomEvt = new EventEmitter();
        this.zoomEnd = new EventEmitter();
        this.rotateStart = new EventEmitter();
        this.rotate = new EventEmitter();
        this.rotateEnd = new EventEmitter();
        this.pitchStart = new EventEmitter();
        this.pitchEvt = new EventEmitter();
        this.pitchEnd = new EventEmitter();
        this.boxZoomStart = new EventEmitter();
        this.boxZoomEnd = new EventEmitter();
        this.boxZoomCancel = new EventEmitter();
        this.webGlContextLost = new EventEmitter();
        this.webGlContextRestored = new EventEmitter();
        this.mapLoad = new EventEmitter();
        this.idle = new EventEmitter();
        this.render = new EventEmitter();
        this.mapError = new EventEmitter();
        this.data = new EventEmitter();
        this.styleData = new EventEmitter();
        this.sourceData = new EventEmitter();
        this.dataLoading = new EventEmitter();
        this.styleDataLoading = new EventEmitter();
        this.sourceDataLoading = new EventEmitter();
        this.styleImageMissing = new EventEmitter();
        this.subscriptions = [];
        afterNextRender(() => {
            if (this.preserveDrawingBuffer) {
                // This is to allow better interaction with the map state
                const htmlElement = this.elementRef.nativeElement;
                htmlElement.setAttribute('data-cy', 'map');
                this.subscriptions.push(this.mapLoad.subscribe(() => {
                    htmlElement.setAttribute('data-loaded', 'true');
                }));
                this.subscriptions.push(this.idle.subscribe(() => {
                    htmlElement.setAttribute('data-idle', 'true');
                }));
                this.subscriptions.push(this.render.subscribe(() => {
                    htmlElement.removeAttribute('data-idle');
                }));
            }
            this.mapService.setup({
                mapOptions: {
                    collectResourceTiming: this.collectResourceTiming,
                    container: this.mapContainer.nativeElement,
                    crossSourceCollisions: this.crossSourceCollisions,
                    fadeDuration: this.fadeDuration,
                    minZoom: this.minZoom,
                    maxZoom: this.maxZoom,
                    minPitch: this.minPitch,
                    maxPitch: this.maxPitch,
                    style: this.style,
                    hash: this.hash,
                    interactive: this.interactive,
                    bearingSnap: this.bearingSnap,
                    pitchWithRotate: this.pitchWithRotate,
                    clickTolerance: this.clickTolerance,
                    attributionControl: this.attributionControl,
                    logoPosition: this.logoPosition,
                    failIfMajorPerformanceCaveat: this.failIfMajorPerformanceCaveat,
                    preserveDrawingBuffer: this.preserveDrawingBuffer,
                    refreshExpiredTiles: this.refreshExpiredTiles,
                    maxBounds: this.maxBounds,
                    scrollZoom: this.scrollZoom,
                    boxZoom: this.boxZoom,
                    dragRotate: this.dragRotate,
                    dragPan: this.dragPan,
                    keyboard: this.keyboard,
                    doubleClickZoom: this.doubleClickZoom,
                    touchPitch: this.touchPitch,
                    touchZoomRotate: this.touchZoomRotate,
                    trackResize: this.trackResize,
                    center: this.center,
                    zoom: this.zoom,
                    bearing: this.bearing,
                    pitch: this.pitch,
                    renderWorldCopies: this.renderWorldCopies,
                    maxTileCacheSize: this.maxTileCacheSize,
                    localIdeographFontFamily: this.localIdeographFontFamily,
                    transformRequest: this.transformRequest,
                    bounds: this.bounds ? this.bounds : this.fitBounds,
                    fitBoundsOptions: this.fitBoundsOptions,
                    antialias: this.antialias,
                    locale: this.locale,
                    cooperativeGestures: this.cooperativeGestures,
                    terrain: this.terrain,
                },
                mapEvents: this,
            });
            if (this.cursorStyle) {
                this.mapService.changeCanvasCursor(this.cursorStyle);
            }
        });
    }
    ngOnDestroy() {
        this.mapService.destroyMap();
        for (const subscription of this.subscriptions) {
            subscription.unsubscribe();
        }
    }
    async ngOnChanges(changes) {
        await firstValueFrom(this.mapService.mapCreated$);
        if (changes.cursorStyle && !changes.cursorStyle.isFirstChange()) {
            this.mapService.changeCanvasCursor(changes.cursorStyle.currentValue);
        }
        if (changes.minZoom && !changes.minZoom.isFirstChange()) {
            this.mapService.updateMinZoom(changes.minZoom.currentValue);
        }
        if (changes.maxZoom && !changes.maxZoom.isFirstChange()) {
            this.mapService.updateMaxZoom(changes.maxZoom.currentValue);
        }
        if (changes.minPitch && !changes.minPitch.isFirstChange()) {
            this.mapService.updateMinPitch(changes.minPitch.currentValue);
        }
        if (changes.maxPitch && !changes.maxPitch.isFirstChange()) {
            this.mapService.updateMaxPitch(changes.maxPitch.currentValue);
        }
        if (changes.renderWorldCopies &&
            !changes.renderWorldCopies.isFirstChange()) {
            this.mapService.updateRenderWorldCopies(changes.renderWorldCopies.currentValue);
        }
        if (changes.scrollZoom && !changes.scrollZoom.isFirstChange()) {
            this.mapService.updateScrollZoom(changes.scrollZoom.currentValue);
        }
        if (changes.dragRotate && !changes.dragRotate.isFirstChange()) {
            this.mapService.updateDragRotate(changes.dragRotate.currentValue);
        }
        if (changes.touchPitch && !changes.touchPitch.isFirstChange()) {
            this.mapService.updateTouchPitch(changes.touchPitch.currentValue);
        }
        if (changes.touchZoomRotate && !changes.touchZoomRotate.isFirstChange()) {
            this.mapService.updateTouchZoomRotate(changes.touchZoomRotate.currentValue);
        }
        if (changes.doubleClickZoom && !changes.doubleClickZoom.isFirstChange()) {
            this.mapService.updateDoubleClickZoom(changes.doubleClickZoom.currentValue);
        }
        if (changes.keyboard && !changes.keyboard.isFirstChange()) {
            this.mapService.updateKeyboard(changes.keyboard.currentValue);
        }
        if (changes.dragPan && !changes.dragPan.isFirstChange()) {
            this.mapService.updateDragPan(changes.dragPan.currentValue);
        }
        if (changes.boxZoom && !changes.boxZoom.isFirstChange()) {
            this.mapService.updateBoxZoom(changes.boxZoom.currentValue);
        }
        if (changes.style && !changes.style.isFirstChange()) {
            this.mapService.updateStyle(changes.style.currentValue);
        }
        if (changes.maxBounds && !changes.maxBounds.isFirstChange()) {
            this.mapService.updateMaxBounds(changes.maxBounds.currentValue);
        }
        if (changes.fitBounds &&
            changes.fitBounds.currentValue &&
            !changes.fitBounds.isFirstChange()) {
            this.mapService.fitBounds(changes.fitBounds.currentValue, this.fitBoundsOptions);
        }
        if (changes.fitScreenCoordinates &&
            changes.fitScreenCoordinates.currentValue) {
            if ((this.center || this.zoom || this.pitch || this.fitBounds) &&
                changes.fitScreenCoordinates.isFirstChange()) {
                console.warn('[ngx-maplibre-gl] center / zoom / pitch / fitBounds inputs are being overridden by fitScreenCoordinates input');
            }
            this.mapService.fitScreenCoordinates(changes.fitScreenCoordinates.currentValue, this.bearing ? this.bearing[0] : 0, this.movingOptions);
        }
        if (this.centerWithPanTo &&
            changes.center &&
            !changes.center.isFirstChange() &&
            !changes.zoom &&
            !changes.bearing &&
            !changes.pitch) {
            this.mapService.panTo(this.center, this.panToOptions);
        }
        else if ((changes.center && !changes.center.isFirstChange()) ||
            (changes.zoom && !changes.zoom.isFirstChange()) ||
            (changes.bearing &&
                !changes.bearing.isFirstChange() &&
                !changes.fitScreenCoordinates) ||
            (changes.pitch && !changes.pitch.isFirstChange())) {
            this.mapService.move(this.movingMethod, this.movingOptions, changes.zoom && this.zoom ? this.zoom[0] : undefined, changes.center ? this.center : undefined, changes.bearing && this.bearing ? this.bearing[0] : undefined, changes.pitch && this.pitch ? this.pitch[0] : undefined);
        }
        if (changes.terrain && !changes.terrain.isFirstChange()) {
            this.mapService.updateTerrain(changes.terrain.currentValue);
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.1", ngImport: i0, type: MapComponent, deps: [{ token: i1.MapService }, { token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.3.1", type: MapComponent, isStandalone: true, selector: "mgl-map", inputs: { collectResourceTiming: "collectResourceTiming", crossSourceCollisions: "crossSourceCollisions", customMapboxApiUrl: "customMapboxApiUrl", fadeDuration: "fadeDuration", hash: "hash", refreshExpiredTiles: "refreshExpiredTiles", failIfMajorPerformanceCaveat: "failIfMajorPerformanceCaveat", bearingSnap: "bearingSnap", interactive: "interactive", pitchWithRotate: "pitchWithRotate", clickTolerance: "clickTolerance", attributionControl: "attributionControl", logoPosition: "logoPosition", maxTileCacheSize: "maxTileCacheSize", localIdeographFontFamily: "localIdeographFontFamily", preserveDrawingBuffer: "preserveDrawingBuffer", trackResize: "trackResize", transformRequest: "transformRequest", bounds: "bounds", antialias: "antialias", locale: "locale", cooperativeGestures: "cooperativeGestures", minZoom: "minZoom", maxZoom: "maxZoom", minPitch: "minPitch", maxPitch: "maxPitch", scrollZoom: "scrollZoom", dragRotate: "dragRotate", touchPitch: "touchPitch", touchZoomRotate: "touchZoomRotate", doubleClickZoom: "doubleClickZoom", keyboard: "keyboard", dragPan: "dragPan", boxZoom: "boxZoom", style: "style", center: "center", maxBounds: "maxBounds", zoom: "zoom", bearing: "bearing", pitch: "pitch", fitBoundsOptions: "fitBoundsOptions", renderWorldCopies: "renderWorldCopies", terrain: "terrain", movingMethod: "movingMethod", movingOptions: "movingOptions", fitBounds: "fitBounds", fitScreenCoordinates: "fitScreenCoordinates", centerWithPanTo: "centerWithPanTo", panToOptions: "panToOptions", cursorStyle: "cursorStyle" }, outputs: { mapResize: "mapResize", mapRemove: "mapRemove", mapMouseDown: "mapMouseDown", mapMouseUp: "mapMouseUp", mapMouseMove: "mapMouseMove", mapClick: "mapClick", mapDblClick: "mapDblClick", mapMouseOver: "mapMouseOver", mapMouseOut: "mapMouseOut", mapContextMenu: "mapContextMenu", mapTouchStart: "mapTouchStart", mapTouchEnd: "mapTouchEnd", mapTouchMove: "mapTouchMove", mapTouchCancel: "mapTouchCancel", mapWheel: "mapWheel", moveStart: "moveStart", move: "move", moveEnd: "moveEnd", mapDragStart: "mapDragStart", mapDrag: "mapDrag", mapDragEnd: "mapDragEnd", zoomStart: "zoomStart", zoomEvt: "zoomEvt", zoomEnd: "zoomEnd", rotateStart: "rotateStart", rotate: "rotate", rotateEnd: "rotateEnd", pitchStart: "pitchStart", pitchEvt: "pitchEvt", pitchEnd: "pitchEnd", boxZoomStart: "boxZoomStart", boxZoomEnd: "boxZoomEnd", boxZoomCancel: "boxZoomCancel", webGlContextLost: "webGlContextLost", webGlContextRestored: "webGlContextRestored", mapLoad: "mapLoad", idle: "idle", render: "render", mapError: "mapError", data: "data", styleData: "styleData", sourceData: "sourceData", dataLoading: "dataLoading", styleDataLoading: "styleDataLoading", sourceDataLoading: "sourceDataLoading", styleImageMissing: "styleImageMissing" }, providers: [MapService], viewQueries: [{ propertyName: "mapContainer", first: true, predicate: ["container"], descendants: true, static: true }], usesOnChanges: true, ngImport: i0, template: '<div #container></div>', isInline: true, styles: [":host{display:block}div{height:100%;width:100%}\n"], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.1", ngImport: i0, type: MapComponent, decorators: [{
            type: Component,
            args: [{ selector: 'mgl-map', template: '<div #container></div>', providers: [MapService], changeDetection: ChangeDetectionStrategy.OnPush, standalone: true, styles: [":host{display:block}div{height:100%;width:100%}\n"] }]
        }], ctorParameters: () => [{ type: i1.MapService }, { type: i0.ElementRef }], propDecorators: { collectResourceTiming: [{
                type: Input
            }], crossSourceCollisions: [{
                type: Input
            }], customMapboxApiUrl: [{
                type: Input
            }], fadeDuration: [{
                type: Input
            }], hash: [{
                type: Input
            }], refreshExpiredTiles: [{
                type: Input
            }], failIfMajorPerformanceCaveat: [{
                type: Input
            }], bearingSnap: [{
                type: Input
            }], interactive: [{
                type: Input
            }], pitchWithRotate: [{
                type: Input
            }], clickTolerance: [{
                type: Input
            }], attributionControl: [{
                type: Input
            }], logoPosition: [{
                type: Input
            }], maxTileCacheSize: [{
                type: Input
            }], localIdeographFontFamily: [{
                type: Input
            }], preserveDrawingBuffer: [{
                type: Input
            }], trackResize: [{
                type: Input
            }], transformRequest: [{
                type: Input
            }], bounds: [{
                type: Input
            }], antialias: [{
                type: Input
            }], locale: [{
                type: Input
            }], cooperativeGestures: [{
                type: Input
            }], minZoom: [{
                type: Input
            }], maxZoom: [{
                type: Input
            }], minPitch: [{
                type: Input
            }], maxPitch: [{
                type: Input
            }], scrollZoom: [{
                type: Input
            }], dragRotate: [{
                type: Input
            }], touchPitch: [{
                type: Input
            }], touchZoomRotate: [{
                type: Input
            }], doubleClickZoom: [{
                type: Input
            }], keyboard: [{
                type: Input
            }], dragPan: [{
                type: Input
            }], boxZoom: [{
                type: Input
            }], style: [{
                type: Input
            }], center: [{
                type: Input
            }], maxBounds: [{
                type: Input
            }], zoom: [{
                type: Input
            }], bearing: [{
                type: Input
            }], pitch: [{
                type: Input
            }], fitBoundsOptions: [{
                type: Input
            }], renderWorldCopies: [{
                type: Input
            }], terrain: [{
                type: Input
            }], movingMethod: [{
                type: Input
            }], movingOptions: [{
                type: Input
            }], fitBounds: [{
                type: Input
            }], fitScreenCoordinates: [{
                type: Input
            }], centerWithPanTo: [{
                type: Input
            }], panToOptions: [{
                type: Input
            }], cursorStyle: [{
                type: Input
            }], mapResize: [{
                type: Output
            }], mapRemove: [{
                type: Output
            }], mapMouseDown: [{
                type: Output
            }], mapMouseUp: [{
                type: Output
            }], mapMouseMove: [{
                type: Output
            }], mapClick: [{
                type: Output
            }], mapDblClick: [{
                type: Output
            }], mapMouseOver: [{
                type: Output
            }], mapMouseOut: [{
                type: Output
            }], mapContextMenu: [{
                type: Output
            }], mapTouchStart: [{
                type: Output
            }], mapTouchEnd: [{
                type: Output
            }], mapTouchMove: [{
                type: Output
            }], mapTouchCancel: [{
                type: Output
            }], mapWheel: [{
                type: Output
            }], moveStart: [{
                type: Output
            }], move: [{
                type: Output
            }], moveEnd: [{
                type: Output
            }], mapDragStart: [{
                type: Output
            }], mapDrag: [{
                type: Output
            }], mapDragEnd: [{
                type: Output
            }], zoomStart: [{
                type: Output
            }], zoomEvt: [{
                type: Output
            }], zoomEnd: [{
                type: Output
            }], rotateStart: [{
                type: Output
            }], rotate: [{
                type: Output
            }], rotateEnd: [{
                type: Output
            }], pitchStart: [{
                type: Output
            }], pitchEvt: [{
                type: Output
            }], pitchEnd: [{
                type: Output
            }], boxZoomStart: [{
                type: Output
            }], boxZoomEnd: [{
                type: Output
            }], boxZoomCancel: [{
                type: Output
            }], webGlContextLost: [{
                type: Output
            }], webGlContextRestored: [{
                type: Output
            }], mapLoad: [{
                type: Output
            }], idle: [{
                type: Output
            }], render: [{
                type: Output
            }], mapError: [{
                type: Output
            }], data: [{
                type: Output
            }], styleData: [{
                type: Output
            }], sourceData: [{
                type: Output
            }], dataLoading: [{
                type: Output
            }], styleDataLoading: [{
                type: Output
            }], sourceDataLoading: [{
                type: Output
            }], styleImageMissing: [{
                type: Output
            }], mapContainer: [{
                type: ViewChild,
                args: ['container', { static: true }]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFwLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL25neC1tYXBsaWJyZS1nbC9zcmMvbGliL21hcC9tYXAuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDTCx1QkFBdUIsRUFDdkIsU0FBUyxFQUVULFlBQVksRUFDWixLQUFLLEVBR0wsTUFBTSxFQUVOLFNBQVMsRUFDVCxlQUFlLEdBQ2hCLE1BQU0sZUFBZSxDQUFDO0FBa0J2QixPQUFPLEVBQUUsVUFBVSxFQUFpQixNQUFNLGVBQWUsQ0FBQztBQUUxRCxPQUFPLEVBQWdCLGNBQWMsRUFBRSxNQUFNLE1BQU0sQ0FBQzs7O0FBRXBEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBeUJHO0FBb0JILE1BQU0sT0FBTyxZQUFZO0lBK0x2QixJQUFJLFdBQVc7UUFDYixPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDO0lBQ3JDLENBQUM7SUFNRCxZQUFvQixVQUFzQixFQUFVLFVBQXNCO1FBQXRELGVBQVUsR0FBVixVQUFVLENBQVk7UUFBVSxlQUFVLEdBQVYsVUFBVSxDQUFZO1FBdkcxRSw2QkFBNkI7UUFDcEIsaUJBQVksR0FBa0MsT0FBTyxDQUFDO1FBV3JELGNBQVMsR0FBRyxJQUFJLFlBQVksRUFBNkIsQ0FBQztRQUMxRCxjQUFTLEdBQUcsSUFBSSxZQUFZLEVBQTZCLENBQUM7UUFDMUQsaUJBQVksR0FBRyxJQUFJLFlBQVksRUFBNkIsQ0FBQztRQUM3RCxlQUFVLEdBQUcsSUFBSSxZQUFZLEVBQTZCLENBQUM7UUFDM0QsaUJBQVksR0FBRyxJQUFJLFlBQVksRUFBNkIsQ0FBQztRQUM3RCxhQUFRLEdBQUcsSUFBSSxZQUFZLEVBQTZCLENBQUM7UUFDekQsZ0JBQVcsR0FBRyxJQUFJLFlBQVksRUFBNkIsQ0FBQztRQUM1RCxpQkFBWSxHQUFHLElBQUksWUFBWSxFQUE2QixDQUFDO1FB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O2dCQUNHLFdBQVc7c0JBQXBCLE1BQU07Z0JBQ0csZ0JBQWdCO3NCQUF6QixNQUFNO2dCQUdHLGlCQUFpQjtzQkFBMUIsTUFBTTtnQkFHRyxpQkFBaUI7c0JBQTFCLE1BQU07Z0JBUW1DLFlBQVk7c0JBQXJELFNBQVM7dUJBQUMsV0FBVyxFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxuICBDb21wb25lbnQsXG4gIEVsZW1lbnRSZWYsXG4gIEV2ZW50RW1pdHRlcixcbiAgSW5wdXQsXG4gIE9uQ2hhbmdlcyxcbiAgT25EZXN0cm95LFxuICBPdXRwdXQsXG4gIFNpbXBsZUNoYW5nZXMsXG4gIFZpZXdDaGlsZCxcbiAgYWZ0ZXJOZXh0UmVuZGVyLFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7XG4gIEFuaW1hdGlvbk9wdGlvbnMsXG4gIExuZ0xhdEJvdW5kc0xpa2UsXG4gIE1hcCxcbiAgTWFwTGlicmVFdmVudCxcbiAgTWFwT3B0aW9ucyxcbiAgTWFwTGlicmVab29tRXZlbnQsXG4gIE1hcENvbnRleHRFdmVudCxcbiAgTWFwRGF0YUV2ZW50LFxuICBNYXBNb3VzZUV2ZW50LFxuICBNYXBTb3VyY2VEYXRhRXZlbnQsXG4gIE1hcFN0eWxlRGF0YUV2ZW50LFxuICBNYXBUb3VjaEV2ZW50LFxuICBNYXBXaGVlbEV2ZW50LFxuICBQb2ludExpa2UsXG4gIFRlcnJhaW5TcGVjaWZpY2F0aW9uLFxufSBmcm9tICdtYXBsaWJyZS1nbCc7XG5pbXBvcnQgeyBNYXBTZXJ2aWNlLCBNb3ZpbmdPcHRpb25zIH0gZnJvbSAnLi9tYXAuc2VydmljZSc7XG5pbXBvcnQgeyBNYXBFdmVudCwgRXZlbnREYXRhIH0gZnJvbSAnLi9tYXAudHlwZXMnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uLCBmaXJzdFZhbHVlRnJvbSB9IGZyb20gJ3J4anMnO1xuXG4vKipcbiAqIGBtZ2wtbWFwYCAtIFRoZSBtYWluIG1hcCBjb21wb25lbnRcbiAqIEBzZWUgW01hcF0oaHR0cHM6Ly9tYXBsaWJyZS5vcmcvbWFwbGlicmUtZ2wtanMvZG9jcy9BUEkvY2xhc3Nlcy9NYXAvKVxuICpcbiAqIEBjYXRlZ29yeSBNYXAgQ29tcG9uZW50XG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIC4uLlxuICogQENvbXBvbmVudCh7XG4gKiAgIHRlbXBsYXRlOiBgXG4gKiAgIDxtZ2wtbWFwXG4gKiAgICAgW3N0eWxlXT1cIidodHRwczovL2RlbW90aWxlcy5tYXBsaWJyZS5vcmcvc3R5bGUuanNvbidcIlxuICogICAgIFt6b29tXT1cIls5XVwiXG4gKiAgICAgW2NlbnRlcl09XCJbLTc0LjUwLCA0MF1cIlxuICogICAgIChtYXBMb2FkKT1cIm1hcCA9ICRldmVudFwiXG4gKiAgID48L21nbC1tYXA+XG4gKiAgIGAsXG4gKiAuLi5cbiAqIH0pXG4gKiBleHBvcnQgY2xhc3MgRGlzcGxheU1hcENvbXBvbmVudCB7XG4gKiAgIG1hcDogTWFwOyAvLyBNYXBMaWJyZSBHTCBNYXAgb2JqZWN0IChNYXBMaWJyZSBpcyByYW4gb3V0c2lkZSBhbmd1bGFyIHpvbmUsIGtlZXAgdGhhdCBpbiBtaW5kIHdoZW4gYmluZGluZyBldmVudHMgZnJvbSB0aGlzIG9iamVjdClcbiAqIC4uLlxuICogfVxuICogYGBgXG4gKi9cblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnbWdsLW1hcCcsXG4gIHRlbXBsYXRlOiAnPGRpdiAjY29udGFpbmVyPjwvZGl2PicsXG4gIHN0eWxlczogW1xuICAgIGBcbiAgICAgIDpob3N0IHtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICB9XG4gICAgICBkaXYge1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgfVxuICAgIGAsXG4gIF0sXG4gIHByb3ZpZGVyczogW01hcFNlcnZpY2VdLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgc3RhbmRhbG9uZTogdHJ1ZSxcbn0pXG5leHBvcnQgY2xhc3MgTWFwQ29tcG9uZW50XG4gIGltcGxlbWVudHNcbiAgICBPbkNoYW5nZXMsXG4gICAgT25EZXN0cm95LFxuICAgIE9taXQ8TWFwT3B0aW9ucywgJ2JlYXJpbmcnIHwgJ2NvbnRhaW5lcicgfCAncGl0Y2gnIHwgJ3pvb20nPixcbiAgICBNYXBFdmVudFxue1xuICAvKiogSW5pdCBpbnB1dCAqL1xuICBASW5wdXQoKSBjb2xsZWN0UmVzb3VyY2VUaW1pbmc/OiBNYXBPcHRpb25zWydjb2xsZWN0UmVzb3VyY2VUaW1pbmcnXTtcbiAgLyoqIEluaXQgaW5wdXQgKi9cbiAgQElucHV0KCkgY3Jvc3NTb3VyY2VDb2xsaXNpb25zPzogTWFwT3B0aW9uc1snY3Jvc3NTb3VyY2VDb2xsaXNpb25zJ107XG4gIC8qKiBJbml0IGlucHV0ICovXG4gIEBJbnB1dCgpIGN1c3RvbU1hcGJveEFwaVVybD86IHN0cmluZztcbiAgLyoqIEluaXQgaW5wdXQgKi9cbiAgQElucHV0KCkgZmFkZUR1cmF0aW9uPzogTWFwT3B0aW9uc1snZmFkZUR1cmF0aW9uJ107XG4gIC8qKiBJbml0IGlucHV0ICovXG4gIEBJbnB1dCgpIGhhc2g/OiBNYXBPcHRpb25zWydoYXNoJ107XG4gIC8qKiBJbml0IGlucHV0ICovXG4gIEBJbnB1dCgpIHJlZnJlc2hFeHBpcmVkVGlsZXM/OiBNYXBPcHRpb25zWydyZWZyZXNoRXhwaXJlZFRpbGVzJ107XG4gIC8qKiBJbml0IGlucHV0ICovXG4gIEBJbnB1dCgpXG4gIGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ/OiBNYXBPcHRpb25zWydmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0J107XG4gIC8qKiBJbml0IGlucHV0ICovXG4gIEBJbnB1dCgpIGJlYXJpbmdTbmFwPzogTWFwT3B0aW9uc1snYmVhcmluZ1NuYXAnXTtcbiAgLyoqIEluaXQgaW5wdXQgKi9cbiAgQElucHV0KCkgaW50ZXJhY3RpdmU/OiBNYXBPcHRpb25zWydpbnRlcmFjdGl2ZSddO1xuICAvKiogSW5pdCBpbnB1dCAqL1xuICBASW5wdXQoKSBwaXRjaFdpdGhSb3RhdGU/OiBNYXBPcHRpb25zWydwaXRjaFdpdGhSb3RhdGUnXTtcbiAgLyoqIEluaXQgaW5wdXQgKi9cbiAgQElucHV0KCkgY2xpY2tUb2xlcmFuY2U/OiBNYXBPcHRpb25zWydjbGlja1RvbGVyYW5jZSddO1xuICAvKiogSW5pdCBpbnB1dCAqL1xuICBASW5wdXQoKSBhdHRyaWJ1dGlvbkNvbnRyb2w/OiBNYXBPcHRpb25zWydhdHRyaWJ1dGlvbkNvbnRyb2wnXTtcbiAgLyoqIEluaXQgaW5wdXQgKi9cbiAgQElucHV0KCkgbG9nb1Bvc2l0aW9uPzogTWFwT3B0aW9uc1snbG9nb1Bvc2l0aW9uJ107XG4gIC8qKiBJbml0IGlucHV0ICovXG4gIEBJbnB1dCgpIG1heFRpbGVDYWNoZVNpemU/OiBNYXBPcHRpb25zWydtYXhUaWxlQ2FjaGVTaXplJ107XG4gIC8qKiBJbml0IGlucHV0ICovXG4gIEBJbnB1dCgpIGxvY2FsSWRlb2dyYXBoRm9udEZhbWlseT86IE1hcE9wdGlvbnNbJ2xvY2FsSWRlb2dyYXBoRm9udEZhbWlseSddO1xuICAvKiogSW5pdCBpbnB1dCAqL1xuICBASW5wdXQoKSBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI/OiBNYXBPcHRpb25zWydwcmVzZXJ2ZURyYXdpbmdCdWZmZXInXTtcbiAgLyoqIEluaXQgaW5wdXQgKi9cbiAgQElucHV0KCkgdHJhY2tSZXNpemU/OiBNYXBPcHRpb25zWyd0cmFja1Jlc2l6ZSddO1xuICAvKiogSW5pdCBpbnB1dCAqL1xuICBASW5wdXQoKSB0cmFuc2Zvcm1SZXF1ZXN0PzogTWFwT3B0aW9uc1sndHJhbnNmb3JtUmVxdWVzdCddO1xuICAvKiogSW5pdCBpbnB1dCAqL1xuICBASW5wdXQoKSBib3VuZHM/OiBNYXBPcHRpb25zWydib3VuZHMnXTsgLy8gVXNlIGZpdEJvdW5kcyBmb3IgZHluYW1pYyBpbnB1dFxuICAvKiogSW5pdCBpbnB1dCAqL1xuICBASW5wdXQoKSBhbnRpYWxpYXM/OiBNYXBPcHRpb25zWydhbnRpYWxpYXMnXTtcbiAgLyoqIEluaXQgaW5wdXQgKi9cbiAgQElucHV0KCkgbG9jYWxlOiBNYXBPcHRpb25zWydsb2NhbGUnXTtcbiAgLyoqIEluaXQgaW5wdXRzICovXG4gIEBJbnB1dCgpIGNvb3BlcmF0aXZlR2VzdHVyZXM/OiBNYXBPcHRpb25zWydjb29wZXJhdGl2ZUdlc3R1cmVzJ107XG5cbiAgLyoqIER5bmFtaWMgaW5wdXQgKi9cbiAgQElucHV0KCkgbWluWm9vbT86IE1hcE9wdGlvbnNbJ21pblpvb20nXTtcbiAgLyoqIER5bmFtaWMgaW5wdXQgKi9cbiAgQElucHV0KCkgbWF4Wm9vbT86IE1hcE9wdGlvbnNbJ21heFpvb20nXTtcbiAgLyoqIER5bmFtaWMgaW5wdXQgKi9cbiAgQElucHV0KCkgbWluUGl0Y2g/OiBNYXBPcHRpb25zWydtaW5QaXRjaCddO1xuICAvKiogRHluYW1pYyBpbnB1dCAqL1xuICBASW5wdXQoKSBtYXhQaXRjaD86IE1hcE9wdGlvbnNbJ21heFBpdGNoJ107XG4gIC8qKiBEeW5hbWljIGlucHV0ICovXG4gIEBJbnB1dCgpIHNjcm9sbFpvb20/OiBNYXBPcHRpb25zWydzY3JvbGxab29tJ107XG4gIC8qKiBEeW5hbWljIGlucHV0ICovXG4gIEBJbnB1dCgpIGRyYWdSb3RhdGU/OiBNYXBPcHRpb25zWydkcmFnUm90YXRlJ107XG4gIC8qKiBEeW5hbWljIGlucHV0ICovXG4gIEBJbnB1dCgpIHRvdWNoUGl0Y2g/OiBNYXBPcHRpb25zWyd0b3VjaFBpdGNoJ107XG4gIC8qKiBEeW5hbWljIGlucHV0ICovXG4gIEBJbnB1dCgpIHRvdWNoWm9vbVJvdGF0ZT86IE1hcE9wdGlvbnNbJ3RvdWNoWm9vbVJvdGF0ZSddO1xuICAvKiogRHluYW1pYyBpbnB1dCAqL1xuICBASW5wdXQoKSBkb3VibGVDbGlja1pvb20/OiBNYXBPcHRpb25zWydkb3VibGVDbGlja1pvb20nXTtcbiAgLyoqIER5bmFtaWMgaW5wdXQgKi9cbiAgQElucHV0KCkga2V5Ym9hcmQ/OiBNYXBPcHRpb25zWydrZXlib2FyZCddO1xuICAvKiogRHluYW1pYyBpbnB1dCAqL1xuICBASW5wdXQoKSBkcmFnUGFuPzogTWFwT3B0aW9uc1snZHJhZ1BhbiddO1xuICAvKiogRHluYW1pYyBpbnB1dCAqL1xuICBASW5wdXQoKSBib3hab29tPzogTWFwT3B0aW9uc1snYm94Wm9vbSddO1xuICAvKiogRHluYW1pYyBpbnB1dCAqL1xuICBASW5wdXQoKSBzdHlsZTogTWFwT3B0aW9uc1snc3R5bGUnXTtcbiAgLyoqIER5bmFtaWMgaW5wdXQgKi9cbiAgQElucHV0KCkgY2VudGVyPzogTWFwT3B0aW9uc1snY2VudGVyJ107XG4gIC8qKiBEeW5hbWljIGlucHV0ICovXG4gIEBJbnB1dCgpIG1heEJvdW5kcz86IE1hcE9wdGlvbnNbJ21heEJvdW5kcyddO1xuICAvKiogRHluYW1pYyBpbnB1dCAqL1xuICBASW5wdXQoKSB6b29tPzogW251bWJlcl07XG4gIC8qKiBEeW5hbWljIGlucHV0ICovXG4gIEBJbnB1dCgpIGJlYXJpbmc/OiBbbnVtYmVyXTtcbiAgLyoqIER5bmFtaWMgaW5wdXQgKi9cbiAgQElucHV0KCkgcGl0Y2g/OiBbbnVtYmVyXTtcbiAgLyoqIER5bmFtaWMgaW5wdXQgKi9cbiAgQElucHV0KCkgZml0Qm91bmRzT3B0aW9ucz86IE1hcE9wdGlvbnNbJ2ZpdEJvdW5kc09wdGlvbnMnXTsgLy8gRmlyc3QgdmFsdWUgZ29lcyB0byBvcHRpb25zLmZpdEJvdW5kc09wdGlvbnMuIFN1YnNlcXVlbnRzIGNoYW5nZXMgYXJlIHBhc3NlZCB0byBmaXRCb3VuZHNcbiAgLyoqIER5bmFtaWMgaW5wdXQgKi9cbiAgQElucHV0KCkgcmVuZGVyV29ybGRDb3BpZXM/OiBNYXBPcHRpb25zWydyZW5kZXJXb3JsZENvcGllcyddO1xuICAvKiogRHluYW1pYyBpbnB1dCAqL1xuICBASW5wdXQoKSB0ZXJyYWluOiBUZXJyYWluU3BlY2lmaWNhdGlvbjtcblxuICAvKiogQWRkZWQgYnkgbmd4LW1hcGJveC1nbCAqL1xuICBASW5wdXQoKSBtb3ZpbmdNZXRob2Q6ICdqdW1wVG8nIHwgJ2Vhc2VUbycgfCAnZmx5VG8nID0gJ2ZseVRvJztcbiAgLyoqIEFkZGVkIGJ5IG5neC1tYXBib3gtZ2wgKi9cbiAgQElucHV0KCkgbW92aW5nT3B0aW9ucz86IE1vdmluZ09wdGlvbnM7XG5cbiAgLy8gPT4gRmlyc3QgdmFsdWUgaXMgYSBhbGlhcyB0byBib3VuZHMgaW5wdXQgKHNpbmNlIG1hcGJveCAwLjUzLjApLiBTdWJzZXF1ZW50cyBjaGFuZ2VzIGFyZSBwYXNzZWQgdG8gZml0Qm91bmRzXG4gIEBJbnB1dCgpIGZpdEJvdW5kcz86IExuZ0xhdEJvdW5kc0xpa2U7XG4gIEBJbnB1dCgpIGZpdFNjcmVlbkNvb3JkaW5hdGVzPzogW1BvaW50TGlrZSwgUG9pbnRMaWtlXTtcbiAgQElucHV0KCkgY2VudGVyV2l0aFBhblRvPzogYm9vbGVhbjtcbiAgQElucHV0KCkgcGFuVG9PcHRpb25zPzogQW5pbWF0aW9uT3B0aW9ucztcbiAgQElucHV0KCkgY3Vyc29yU3R5bGU/OiBzdHJpbmc7XG5cbiAgQE91dHB1dCgpIG1hcFJlc2l6ZSA9IG5ldyBFdmVudEVtaXR0ZXI8TWFwTGlicmVFdmVudCAmIEV2ZW50RGF0YT4oKTtcbiAgQE91dHB1dCgpIG1hcFJlbW92ZSA9IG5ldyBFdmVudEVtaXR0ZXI8TWFwTGlicmVFdmVudCAmIEV2ZW50RGF0YT4oKTtcbiAgQE91dHB1dCgpIG1hcE1vdXNlRG93biA9IG5ldyBFdmVudEVtaXR0ZXI8TWFwTW91c2VFdmVudCAmIEV2ZW50RGF0YT4oKTtcbiAgQE91dHB1dCgpIG1hcE1vdXNlVXAgPSBuZXcgRXZlbnRFbWl0dGVyPE1hcE1vdXNlRXZlbnQgJiBFdmVudERhdGE+KCk7XG4gIEBPdXRwdXQoKSBtYXBNb3VzZU1vdmUgPSBuZXcgRXZlbnRFbWl0dGVyPE1hcE1vdXNlRXZlbnQgJiBFdmVudERhdGE+KCk7XG4gIEBPdXRwdXQoKSBtYXBDbGljayA9IG5ldyBFdmVudEVtaXR0ZXI8TWFwTW91c2VFdmVudCAmIEV2ZW50RGF0YT4oKTtcbiAgQE91dHB1dCgpIG1hcERibENsaWNrID0gbmV3IEV2ZW50RW1pdHRlcjxNYXBNb3VzZUV2ZW50ICYgRXZlbnREYXRhPigpO1xuICBAT3V0cHV0KCkgbWFwTW91c2VPdmVyID0gbmV3IEV2ZW50RW1pdHRlcjxNYXBNb3VzZUV2ZW50ICYgRXZlbnREYXRhPigpO1xuICBAT3V0cHV0KCkgbWFwTW91c2VPdXQgPSBuZXcgRXZlbnRFbWl0dGVyPE1hcE1vdXNlRXZlbnQgJiBFdmVudERhdGE+KCk7XG4gIEBPdXRwdXQoKSBtYXBDb250ZXh0TWVudSA9IG5ldyBFdmVudEVtaXR0ZXI8TWFwTW91c2VFdmVudCAmIEV2ZW50RGF0YT4oKTtcbiAgQE91dHB1dCgpIG1hcFRvdWNoU3RhcnQgPSBuZXcgRXZlbnRFbWl0dGVyPE1hcFRvdWNoRXZlbnQgJiBFdmVudERhdGE+KCk7XG4gIEBPdXRwdXQoKSBtYXBUb3VjaEVuZCA9IG5ldyBFdmVudEVtaXR0ZXI8TWFwVG91Y2hFdmVudCAmIEV2ZW50RGF0YT4oKTtcbiAgQE91dHB1dCgpIG1hcFRvdWNoTW92ZSA9IG5ldyBFdmVudEVtaXR0ZXI8TWFwVG91Y2hFdmVudCAmIEV2ZW50RGF0YT4oKTtcbiAgQE91dHB1dCgpIG1hcFRvdWNoQ2FuY2VsID0gbmV3IEV2ZW50RW1pdHRlcjxNYXBUb3VjaEV2ZW50ICYgRXZlbnREYXRhPigpO1xuICBAT3V0cHV0KCkgbWFwV2hlZWwgPSBuZXcgRXZlbnRFbWl0dGVyPE1hcFdoZWVsRXZlbnQgJiBFdmVudERhdGE+KCk7XG4gIEBPdXRwdXQoKSBtb3ZlU3RhcnQgPSBuZXcgRXZlbnRFbWl0dGVyPFxuICAgIE1hcExpYnJlRXZlbnQ8TW91c2VFdmVudCB8IFRvdWNoRXZlbnQgfCBXaGVlbEV2ZW50IHwgdW5kZWZpbmVkPiAmIEV2ZW50RGF0YVxuICA+KCk7XG4gIEBPdXRwdXQoKSBtb3ZlID0gbmV3IEV2ZW50RW1pdHRlcjxcbiAgICBNYXBMaWJyZUV2ZW50PE1vdXNlRXZlbnQgfCBUb3VjaEV2ZW50IHwgV2hlZWxFdmVudCB8IHVuZGVmaW5lZD4gJiBFdmVudERhdGFcbiAgPigpO1xuICBAT3V0cHV0KCkgbW92ZUVuZCA9IG5ldyBFdmVudEVtaXR0ZXI8XG4gICAgTWFwTGlicmVFdmVudDxNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCB8IFdoZWVsRXZlbnQgfCB1bmRlZmluZWQ+ICYgRXZlbnREYXRhXG4gID4oKTtcbiAgQE91dHB1dCgpIG1hcERyYWdTdGFydCA9IG5ldyBFdmVudEVtaXR0ZXI8XG4gICAgTWFwTGlicmVFdmVudDxNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCB8IHVuZGVmaW5lZD4gJiBFdmVudERhdGFcbiAgPigpO1xuICBAT3V0cHV0KCkgbWFwRHJhZyA9IG5ldyBFdmVudEVtaXR0ZXI8XG4gICAgTWFwTGlicmVFdmVudDxNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCB8IHVuZGVmaW5lZD4gJiBFdmVudERhdGFcbiAgPigpO1xuICBAT3V0cHV0KCkgbWFwRHJhZ0VuZCA9IG5ldyBFdmVudEVtaXR0ZXI8XG4gICAgTWFwTGlicmVFdmVudDxNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCB8IHVuZGVmaW5lZD4gJiBFdmVudERhdGFcbiAgPigpO1xuICBAT3V0cHV0KCkgem9vbVN0YXJ0ID0gbmV3IEV2ZW50RW1pdHRlcjxcbiAgICBNYXBMaWJyZUV2ZW50PE1vdXNlRXZlbnQgfCBUb3VjaEV2ZW50IHwgV2hlZWxFdmVudCB8IHVuZGVmaW5lZD4gJiBFdmVudERhdGFcbiAgPigpO1xuICBAT3V0cHV0KCkgem9vbUV2dCA9IG5ldyBFdmVudEVtaXR0ZXI8XG4gICAgTWFwTGlicmVFdmVudDxNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCB8IFdoZWVsRXZlbnQgfCB1bmRlZmluZWQ+ICYgRXZlbnREYXRhXG4gID4oKTtcbiAgQE91dHB1dCgpIHpvb21FbmQgPSBuZXcgRXZlbnRFbWl0dGVyPFxuICAgIE1hcExpYnJlRXZlbnQ8TW91c2VFdmVudCB8IFRvdWNoRXZlbnQgfCBXaGVlbEV2ZW50IHwgdW5kZWZpbmVkPiAmIEV2ZW50RGF0YVxuICA+KCk7XG4gIEBPdXRwdXQoKSByb3RhdGVTdGFydCA9IG5ldyBFdmVudEVtaXR0ZXI8XG4gICAgTWFwTGlicmVFdmVudDxNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCB8IHVuZGVmaW5lZD4gJiBFdmVudERhdGFcbiAgPigpO1xuICBAT3V0cHV0KCkgcm90YXRlID0gbmV3IEV2ZW50RW1pdHRlcjxcbiAgICBNYXBMaWJyZUV2ZW50PE1vdXNlRXZlbnQgfCBUb3VjaEV2ZW50IHwgdW5kZWZpbmVkPiAmIEV2ZW50RGF0YVxuICA+KCk7XG4gIEBPdXRwdXQoKSByb3RhdGVFbmQgPSBuZXcgRXZlbnRFbWl0dGVyPFxuICAgIE1hcExpYnJlRXZlbnQ8TW91c2VFdmVudCB8IFRvdWNoRXZlbnQgfCB1bmRlZmluZWQ+ICYgRXZlbnREYXRhXG4gID4oKTtcbiAgQE91dHB1dCgpIHBpdGNoU3RhcnQgPSBuZXcgRXZlbnRFbWl0dGVyPFxuICAgIE1hcExpYnJlRXZlbnQ8TW91c2VFdmVudCB8IFRvdWNoRXZlbnQgfCB1bmRlZmluZWQ+ICYgRXZlbnREYXRhXG4gID4oKTtcbiAgQE91dHB1dCgpIHBpdGNoRXZ0ID0gbmV3IEV2ZW50RW1pdHRlcjxcbiAgICBNYXBMaWJyZUV2ZW50PE1vdXNlRXZlbnQgfCBUb3VjaEV2ZW50IHwgdW5kZWZpbmVkPiAmIEV2ZW50RGF0YVxuICA+KCk7XG4gIEBPdXRwdXQoKSBwaXRjaEVuZCA9IG5ldyBFdmVudEVtaXR0ZXI8XG4gICAgTWFwTGlicmVFdmVudDxNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCB8IHVuZGVmaW5lZD4gJiBFdmVudERhdGFcbiAgPigpO1xuICBAT3V0cHV0KCkgYm94Wm9vbVN0YXJ0ID0gbmV3IEV2ZW50RW1pdHRlcjxNYXBMaWJyZVpvb21FdmVudCAmIEV2ZW50RGF0YT4oKTtcbiAgQE91dHB1dCgpIGJveFpvb21FbmQgPSBuZXcgRXZlbnRFbWl0dGVyPE1hcExpYnJlWm9vbUV2ZW50ICYgRXZlbnREYXRhPigpO1xuICBAT3V0cHV0KCkgYm94Wm9vbUNhbmNlbCA9IG5ldyBFdmVudEVtaXR0ZXI8TWFwTGlicmVab29tRXZlbnQgJiBFdmVudERhdGE+KCk7XG4gIEBPdXRwdXQoKSB3ZWJHbENvbnRleHRMb3N0ID0gbmV3IEV2ZW50RW1pdHRlcjxNYXBDb250ZXh0RXZlbnQgJiBFdmVudERhdGE+KCk7XG4gIEBPdXRwdXQoKSB3ZWJHbENvbnRleHRSZXN0b3JlZCA9IG5ldyBFdmVudEVtaXR0ZXI8XG4gICAgTWFwQ29udGV4dEV2ZW50ICYgRXZlbnREYXRhXG4gID4oKTtcbiAgQE91dHB1dCgpIG1hcExvYWQgPSBuZXcgRXZlbnRFbWl0dGVyPE1hcD4oKTtcbiAgQE91dHB1dCgpIGlkbGUgPSBuZXcgRXZlbnRFbWl0dGVyPE1hcExpYnJlRXZlbnQgJiBFdmVudERhdGE+KCk7XG4gIEBPdXRwdXQoKSByZW5kZXIgPSBuZXcgRXZlbnRFbWl0dGVyPE1hcExpYnJlRXZlbnQgJiBFdmVudERhdGE+KCk7XG4gIEBPdXRwdXQoKSBtYXBFcnJvciA9IG5ldyBFdmVudEVtaXR0ZXI8RXJyb3JFdmVudCAmIEV2ZW50RGF0YT4oKTtcbiAgQE91dHB1dCgpIGRhdGEgPSBuZXcgRXZlbnRFbWl0dGVyPE1hcERhdGFFdmVudCAmIEV2ZW50RGF0YT4oKTtcbiAgQE91dHB1dCgpIHN0eWxlRGF0YSA9IG5ldyBFdmVudEVtaXR0ZXI8TWFwU3R5bGVEYXRhRXZlbnQgJiBFdmVudERhdGE+KCk7XG4gIEBPdXRwdXQoKSBzb3VyY2VEYXRhID0gbmV3IEV2ZW50RW1pdHRlcjxNYXBTb3VyY2VEYXRhRXZlbnQgJiBFdmVudERhdGE+KCk7XG4gIEBPdXRwdXQoKSBkYXRhTG9hZGluZyA9IG5ldyBFdmVudEVtaXR0ZXI8TWFwRGF0YUV2ZW50ICYgRXZlbnREYXRhPigpO1xuICBAT3V0cHV0KCkgc3R5bGVEYXRhTG9hZGluZyA9IG5ldyBFdmVudEVtaXR0ZXI8XG4gICAgTWFwU3R5bGVEYXRhRXZlbnQgJiBFdmVudERhdGFcbiAgPigpO1xuICBAT3V0cHV0KCkgc291cmNlRGF0YUxvYWRpbmcgPSBuZXcgRXZlbnRFbWl0dGVyPFxuICAgIE1hcFNvdXJjZURhdGFFdmVudCAmIEV2ZW50RGF0YVxuICA+KCk7XG4gIEBPdXRwdXQoKSBzdHlsZUltYWdlTWlzc2luZyA9IG5ldyBFdmVudEVtaXR0ZXI8eyBpZDogc3RyaW5nIH0gJiBFdmVudERhdGE+KCk7XG5cbiAgZ2V0IG1hcEluc3RhbmNlKCk6IE1hcCB7XG4gICAgcmV0dXJuIHRoaXMubWFwU2VydmljZS5tYXBJbnN0YW5jZTtcbiAgfVxuXG4gIHByaXZhdGUgc3Vic2NyaXB0aW9uczogU3Vic2NyaXB0aW9uW10gPSBbXTtcblxuICBAVmlld0NoaWxkKCdjb250YWluZXInLCB7IHN0YXRpYzogdHJ1ZSB9KSBtYXBDb250YWluZXI6IEVsZW1lbnRSZWY7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBtYXBTZXJ2aWNlOiBNYXBTZXJ2aWNlLCBwcml2YXRlIGVsZW1lbnRSZWY6IEVsZW1lbnRSZWYpIHtcbiAgICBhZnRlck5leHRSZW5kZXIoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMucHJlc2VydmVEcmF3aW5nQnVmZmVyKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgdG8gYWxsb3cgYmV0dGVyIGludGVyYWN0aW9uIHdpdGggdGhlIG1hcCBzdGF0ZVxuICAgICAgICBjb25zdCBodG1sRWxlbWVudDogSFRNTEVsZW1lbnQgPSB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudDtcbiAgICAgICAgaHRtbEVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLWN5JywgJ21hcCcpO1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaChcbiAgICAgICAgICB0aGlzLm1hcExvYWQuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICAgIGh0bWxFbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1sb2FkZWQnLCAndHJ1ZScpO1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKFxuICAgICAgICAgIHRoaXMuaWRsZS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgaHRtbEVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLWlkbGUnLCAndHJ1ZScpO1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKFxuICAgICAgICAgIHRoaXMucmVuZGVyLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICBodG1sRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtaWRsZScpO1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubWFwU2VydmljZS5zZXR1cCh7XG4gICAgICAgIG1hcE9wdGlvbnM6IHtcbiAgICAgICAgICBjb2xsZWN0UmVzb3VyY2VUaW1pbmc6IHRoaXMuY29sbGVjdFJlc291cmNlVGltaW5nLFxuICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy5tYXBDb250YWluZXIubmF0aXZlRWxlbWVudCxcbiAgICAgICAgICBjcm9zc1NvdXJjZUNvbGxpc2lvbnM6IHRoaXMuY3Jvc3NTb3VyY2VDb2xsaXNpb25zLFxuICAgICAgICAgIGZhZGVEdXJhdGlvbjogdGhpcy5mYWRlRHVyYXRpb24sXG4gICAgICAgICAgbWluWm9vbTogdGhpcy5taW5ab29tLFxuICAgICAgICAgIG1heFpvb206IHRoaXMubWF4Wm9vbSxcbiAgICAgICAgICBtaW5QaXRjaDogdGhpcy5taW5QaXRjaCxcbiAgICAgICAgICBtYXhQaXRjaDogdGhpcy5tYXhQaXRjaCxcbiAgICAgICAgICBzdHlsZTogdGhpcy5zdHlsZSxcbiAgICAgICAgICBoYXNoOiB0aGlzLmhhc2gsXG4gICAgICAgICAgaW50ZXJhY3RpdmU6IHRoaXMuaW50ZXJhY3RpdmUsXG4gICAgICAgICAgYmVhcmluZ1NuYXA6IHRoaXMuYmVhcmluZ1NuYXAsXG4gICAgICAgICAgcGl0Y2hXaXRoUm90YXRlOiB0aGlzLnBpdGNoV2l0aFJvdGF0ZSxcbiAgICAgICAgICBjbGlja1RvbGVyYW5jZTogdGhpcy5jbGlja1RvbGVyYW5jZSxcbiAgICAgICAgICBhdHRyaWJ1dGlvbkNvbnRyb2w6IHRoaXMuYXR0cmlidXRpb25Db250cm9sLFxuICAgICAgICAgIGxvZ29Qb3NpdGlvbjogdGhpcy5sb2dvUG9zaXRpb24sXG4gICAgICAgICAgZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDogdGhpcy5mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0LFxuICAgICAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogdGhpcy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIsXG4gICAgICAgICAgcmVmcmVzaEV4cGlyZWRUaWxlczogdGhpcy5yZWZyZXNoRXhwaXJlZFRpbGVzLFxuICAgICAgICAgIG1heEJvdW5kczogdGhpcy5tYXhCb3VuZHMsXG4gICAgICAgICAgc2Nyb2xsWm9vbTogdGhpcy5zY3JvbGxab29tLFxuICAgICAgICAgIGJveFpvb206IHRoaXMuYm94Wm9vbSxcbiAgICAgICAgICBkcmFnUm90YXRlOiB0aGlzLmRyYWdSb3RhdGUsXG4gICAgICAgICAgZHJhZ1BhbjogdGhpcy5kcmFnUGFuLFxuICAgICAgICAgIGtleWJvYXJkOiB0aGlzLmtleWJvYXJkLFxuICAgICAgICAgIGRvdWJsZUNsaWNrWm9vbTogdGhpcy5kb3VibGVDbGlja1pvb20sXG4gICAgICAgICAgdG91Y2hQaXRjaDogdGhpcy50b3VjaFBpdGNoLFxuICAgICAgICAgIHRvdWNoWm9vbVJvdGF0ZTogdGhpcy50b3VjaFpvb21Sb3RhdGUsXG4gICAgICAgICAgdHJhY2tSZXNpemU6IHRoaXMudHJhY2tSZXNpemUsXG4gICAgICAgICAgY2VudGVyOiB0aGlzLmNlbnRlcixcbiAgICAgICAgICB6b29tOiB0aGlzLnpvb20sXG4gICAgICAgICAgYmVhcmluZzogdGhpcy5iZWFyaW5nLFxuICAgICAgICAgIHBpdGNoOiB0aGlzLnBpdGNoLFxuICAgICAgICAgIHJlbmRlcldvcmxkQ29waWVzOiB0aGlzLnJlbmRlcldvcmxkQ29waWVzLFxuICAgICAgICAgIG1heFRpbGVDYWNoZVNpemU6IHRoaXMubWF4VGlsZUNhY2hlU2l6ZSxcbiAgICAgICAgICBsb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk6IHRoaXMubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5LFxuICAgICAgICAgIHRyYW5zZm9ybVJlcXVlc3Q6IHRoaXMudHJhbnNmb3JtUmVxdWVzdCxcbiAgICAgICAgICBib3VuZHM6IHRoaXMuYm91bmRzID8gdGhpcy5ib3VuZHMgOiB0aGlzLmZpdEJvdW5kcyxcbiAgICAgICAgICBmaXRCb3VuZHNPcHRpb25zOiB0aGlzLmZpdEJvdW5kc09wdGlvbnMsXG4gICAgICAgICAgYW50aWFsaWFzOiB0aGlzLmFudGlhbGlhcyxcbiAgICAgICAgICBsb2NhbGU6IHRoaXMubG9jYWxlLFxuICAgICAgICAgIGNvb3BlcmF0aXZlR2VzdHVyZXM6IHRoaXMuY29vcGVyYXRpdmVHZXN0dXJlcyxcbiAgICAgICAgICB0ZXJyYWluOiB0aGlzLnRlcnJhaW4sXG4gICAgICAgIH0sXG4gICAgICAgIG1hcEV2ZW50czogdGhpcyxcbiAgICAgIH0pO1xuICAgICAgaWYgKHRoaXMuY3Vyc29yU3R5bGUpIHtcbiAgICAgICAgdGhpcy5tYXBTZXJ2aWNlLmNoYW5nZUNhbnZhc0N1cnNvcih0aGlzLmN1cnNvclN0eWxlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIG5nT25EZXN0cm95KCkge1xuICAgIHRoaXMubWFwU2VydmljZS5kZXN0cm95TWFwKCk7XG4gICAgZm9yIChjb25zdCBzdWJzY3JpcHRpb24gb2YgdGhpcy5zdWJzY3JpcHRpb25zKSB7XG4gICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKSB7XG4gICAgYXdhaXQgZmlyc3RWYWx1ZUZyb20odGhpcy5tYXBTZXJ2aWNlLm1hcENyZWF0ZWQkKTtcbiAgICBpZiAoY2hhbmdlcy5jdXJzb3JTdHlsZSAmJiAhY2hhbmdlcy5jdXJzb3JTdHlsZS5pc0ZpcnN0Q2hhbmdlKCkpIHtcbiAgICAgIHRoaXMubWFwU2VydmljZS5jaGFuZ2VDYW52YXNDdXJzb3IoY2hhbmdlcy5jdXJzb3JTdHlsZS5jdXJyZW50VmFsdWUpO1xuICAgIH1cbiAgICBpZiAoY2hhbmdlcy5taW5ab29tICYmICFjaGFuZ2VzLm1pblpvb20uaXNGaXJzdENoYW5nZSgpKSB7XG4gICAgICB0aGlzLm1hcFNlcnZpY2UudXBkYXRlTWluWm9vbShjaGFuZ2VzLm1pblpvb20uY3VycmVudFZhbHVlKTtcbiAgICB9XG4gICAgaWYgKGNoYW5nZXMubWF4Wm9vbSAmJiAhY2hhbmdlcy5tYXhab29tLmlzRmlyc3RDaGFuZ2UoKSkge1xuICAgICAgdGhpcy5tYXBTZXJ2aWNlLnVwZGF0ZU1heFpvb20oY2hhbmdlcy5tYXhab29tLmN1cnJlbnRWYWx1ZSk7XG4gICAgfVxuICAgIGlmIChjaGFuZ2VzLm1pblBpdGNoICYmICFjaGFuZ2VzLm1pblBpdGNoLmlzRmlyc3RDaGFuZ2UoKSkge1xuICAgICAgdGhpcy5tYXBTZXJ2aWNlLnVwZGF0ZU1pblBpdGNoKGNoYW5nZXMubWluUGl0Y2guY3VycmVudFZhbHVlKTtcbiAgICB9XG4gICAgaWYgKGNoYW5nZXMubWF4UGl0Y2ggJiYgIWNoYW5nZXMubWF4UGl0Y2guaXNGaXJzdENoYW5nZSgpKSB7XG4gICAgICB0aGlzLm1hcFNlcnZpY2UudXBkYXRlTWF4UGl0Y2goY2hhbmdlcy5tYXhQaXRjaC5jdXJyZW50VmFsdWUpO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICBjaGFuZ2VzLnJlbmRlcldvcmxkQ29waWVzICYmXG4gICAgICAhY2hhbmdlcy5yZW5kZXJXb3JsZENvcGllcy5pc0ZpcnN0Q2hhbmdlKClcbiAgICApIHtcbiAgICAgIHRoaXMubWFwU2VydmljZS51cGRhdGVSZW5kZXJXb3JsZENvcGllcyhcbiAgICAgICAgY2hhbmdlcy5yZW5kZXJXb3JsZENvcGllcy5jdXJyZW50VmFsdWVcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChjaGFuZ2VzLnNjcm9sbFpvb20gJiYgIWNoYW5nZXMuc2Nyb2xsWm9vbS5pc0ZpcnN0Q2hhbmdlKCkpIHtcbiAgICAgIHRoaXMubWFwU2VydmljZS51cGRhdGVTY3JvbGxab29tKGNoYW5nZXMuc2Nyb2xsWm9vbS5jdXJyZW50VmFsdWUpO1xuICAgIH1cbiAgICBpZiAoY2hhbmdlcy5kcmFnUm90YXRlICYmICFjaGFuZ2VzLmRyYWdSb3RhdGUuaXNGaXJzdENoYW5nZSgpKSB7XG4gICAgICB0aGlzLm1hcFNlcnZpY2UudXBkYXRlRHJhZ1JvdGF0ZShjaGFuZ2VzLmRyYWdSb3RhdGUuY3VycmVudFZhbHVlKTtcbiAgICB9XG4gICAgaWYgKGNoYW5nZXMudG91Y2hQaXRjaCAmJiAhY2hhbmdlcy50b3VjaFBpdGNoLmlzRmlyc3RDaGFuZ2UoKSkge1xuICAgICAgdGhpcy5tYXBTZXJ2aWNlLnVwZGF0ZVRvdWNoUGl0Y2goY2hhbmdlcy50b3VjaFBpdGNoLmN1cnJlbnRWYWx1ZSk7XG4gICAgfVxuICAgIGlmIChjaGFuZ2VzLnRvdWNoWm9vbVJvdGF0ZSAmJiAhY2hhbmdlcy50b3VjaFpvb21Sb3RhdGUuaXNGaXJzdENoYW5nZSgpKSB7XG4gICAgICB0aGlzLm1hcFNlcnZpY2UudXBkYXRlVG91Y2hab29tUm90YXRlKFxuICAgICAgICBjaGFuZ2VzLnRvdWNoWm9vbVJvdGF0ZS5jdXJyZW50VmFsdWVcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChjaGFuZ2VzLmRvdWJsZUNsaWNrWm9vbSAmJiAhY2hhbmdlcy5kb3VibGVDbGlja1pvb20uaXNGaXJzdENoYW5nZSgpKSB7XG4gICAgICB0aGlzLm1hcFNlcnZpY2UudXBkYXRlRG91YmxlQ2xpY2tab29tKFxuICAgICAgICBjaGFuZ2VzLmRvdWJsZUNsaWNrWm9vbS5jdXJyZW50VmFsdWVcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChjaGFuZ2VzLmtleWJvYXJkICYmICFjaGFuZ2VzLmtleWJvYXJkLmlzRmlyc3RDaGFuZ2UoKSkge1xuICAgICAgdGhpcy5tYXBTZXJ2aWNlLnVwZGF0ZUtleWJvYXJkKGNoYW5nZXMua2V5Ym9hcmQuY3VycmVudFZhbHVlKTtcbiAgICB9XG4gICAgaWYgKGNoYW5nZXMuZHJhZ1BhbiAmJiAhY2hhbmdlcy5kcmFnUGFuLmlzRmlyc3RDaGFuZ2UoKSkge1xuICAgICAgdGhpcy5tYXBTZXJ2aWNlLnVwZGF0ZURyYWdQYW4oY2hhbmdlcy5kcmFnUGFuLmN1cnJlbnRWYWx1ZSk7XG4gICAgfVxuICAgIGlmIChjaGFuZ2VzLmJveFpvb20gJiYgIWNoYW5nZXMuYm94Wm9vbS5pc0ZpcnN0Q2hhbmdlKCkpIHtcbiAgICAgIHRoaXMubWFwU2VydmljZS51cGRhdGVCb3hab29tKGNoYW5nZXMuYm94Wm9vbS5jdXJyZW50VmFsdWUpO1xuICAgIH1cbiAgICBpZiAoY2hhbmdlcy5zdHlsZSAmJiAhY2hhbmdlcy5zdHlsZS5pc0ZpcnN0Q2hhbmdlKCkpIHtcbiAgICAgIHRoaXMubWFwU2VydmljZS51cGRhdGVTdHlsZShjaGFuZ2VzLnN0eWxlLmN1cnJlbnRWYWx1ZSk7XG4gICAgfVxuICAgIGlmIChjaGFuZ2VzLm1heEJvdW5kcyAmJiAhY2hhbmdlcy5tYXhCb3VuZHMuaXNGaXJzdENoYW5nZSgpKSB7XG4gICAgICB0aGlzLm1hcFNlcnZpY2UudXBkYXRlTWF4Qm91bmRzKGNoYW5nZXMubWF4Qm91bmRzLmN1cnJlbnRWYWx1ZSk7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIGNoYW5nZXMuZml0Qm91bmRzICYmXG4gICAgICBjaGFuZ2VzLmZpdEJvdW5kcy5jdXJyZW50VmFsdWUgJiZcbiAgICAgICFjaGFuZ2VzLmZpdEJvdW5kcy5pc0ZpcnN0Q2hhbmdlKClcbiAgICApIHtcbiAgICAgIHRoaXMubWFwU2VydmljZS5maXRCb3VuZHMoXG4gICAgICAgIGNoYW5nZXMuZml0Qm91bmRzLmN1cnJlbnRWYWx1ZSxcbiAgICAgICAgdGhpcy5maXRCb3VuZHNPcHRpb25zXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICBjaGFuZ2VzLmZpdFNjcmVlbkNvb3JkaW5hdGVzICYmXG4gICAgICBjaGFuZ2VzLmZpdFNjcmVlbkNvb3JkaW5hdGVzLmN1cnJlbnRWYWx1ZVxuICAgICkge1xuICAgICAgaWYgKFxuICAgICAgICAodGhpcy5jZW50ZXIgfHwgdGhpcy56b29tIHx8IHRoaXMucGl0Y2ggfHwgdGhpcy5maXRCb3VuZHMpICYmXG4gICAgICAgIGNoYW5nZXMuZml0U2NyZWVuQ29vcmRpbmF0ZXMuaXNGaXJzdENoYW5nZSgpXG4gICAgICApIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICdbbmd4LW1hcGxpYnJlLWdsXSBjZW50ZXIgLyB6b29tIC8gcGl0Y2ggLyBmaXRCb3VuZHMgaW5wdXRzIGFyZSBiZWluZyBvdmVycmlkZGVuIGJ5IGZpdFNjcmVlbkNvb3JkaW5hdGVzIGlucHV0J1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgdGhpcy5tYXBTZXJ2aWNlLmZpdFNjcmVlbkNvb3JkaW5hdGVzKFxuICAgICAgICBjaGFuZ2VzLmZpdFNjcmVlbkNvb3JkaW5hdGVzLmN1cnJlbnRWYWx1ZSxcbiAgICAgICAgdGhpcy5iZWFyaW5nID8gdGhpcy5iZWFyaW5nWzBdIDogMCxcbiAgICAgICAgdGhpcy5tb3ZpbmdPcHRpb25zXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICB0aGlzLmNlbnRlcldpdGhQYW5UbyAmJlxuICAgICAgY2hhbmdlcy5jZW50ZXIgJiZcbiAgICAgICFjaGFuZ2VzLmNlbnRlci5pc0ZpcnN0Q2hhbmdlKCkgJiZcbiAgICAgICFjaGFuZ2VzLnpvb20gJiZcbiAgICAgICFjaGFuZ2VzLmJlYXJpbmcgJiZcbiAgICAgICFjaGFuZ2VzLnBpdGNoXG4gICAgKSB7XG4gICAgICB0aGlzLm1hcFNlcnZpY2UucGFuVG8odGhpcy5jZW50ZXIhLCB0aGlzLnBhblRvT3B0aW9ucyk7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIChjaGFuZ2VzLmNlbnRlciAmJiAhY2hhbmdlcy5jZW50ZXIuaXNGaXJzdENoYW5nZSgpKSB8fFxuICAgICAgKGNoYW5nZXMuem9vbSAmJiAhY2hhbmdlcy56b29tLmlzRmlyc3RDaGFuZ2UoKSkgfHxcbiAgICAgIChjaGFuZ2VzLmJlYXJpbmcgJiZcbiAgICAgICAgIWNoYW5nZXMuYmVhcmluZy5pc0ZpcnN0Q2hhbmdlKCkgJiZcbiAgICAgICAgIWNoYW5nZXMuZml0U2NyZWVuQ29vcmRpbmF0ZXMpIHx8XG4gICAgICAoY2hhbmdlcy5waXRjaCAmJiAhY2hhbmdlcy5waXRjaC5pc0ZpcnN0Q2hhbmdlKCkpXG4gICAgKSB7XG4gICAgICB0aGlzLm1hcFNlcnZpY2UubW92ZShcbiAgICAgICAgdGhpcy5tb3ZpbmdNZXRob2QsXG4gICAgICAgIHRoaXMubW92aW5nT3B0aW9ucyxcbiAgICAgICAgY2hhbmdlcy56b29tICYmIHRoaXMuem9vbSA/IHRoaXMuem9vbVswXSA6IHVuZGVmaW5lZCxcbiAgICAgICAgY2hhbmdlcy5jZW50ZXIgPyB0aGlzLmNlbnRlciA6IHVuZGVmaW5lZCxcbiAgICAgICAgY2hhbmdlcy5iZWFyaW5nICYmIHRoaXMuYmVhcmluZyA/IHRoaXMuYmVhcmluZ1swXSA6IHVuZGVmaW5lZCxcbiAgICAgICAgY2hhbmdlcy5waXRjaCAmJiB0aGlzLnBpdGNoID8gdGhpcy5waXRjaFswXSA6IHVuZGVmaW5lZFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGNoYW5nZXMudGVycmFpbiAmJiAhY2hhbmdlcy50ZXJyYWluLmlzRmlyc3RDaGFuZ2UoKSkge1xuICAgICAgdGhpcy5tYXBTZXJ2aWNlLnVwZGF0ZVRlcnJhaW4oY2hhbmdlcy50ZXJyYWluLmN1cnJlbnRWYWx1ZSk7XG4gICAgfVxuICB9XG59XG4iXX0=