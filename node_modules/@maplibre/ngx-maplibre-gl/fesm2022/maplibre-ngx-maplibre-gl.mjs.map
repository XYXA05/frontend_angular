{"version":3,"file":"maplibre-ngx-maplibre-gl.mjs","sources":["../../../projects/ngx-maplibre-gl/src/lib/map/map.service.ts","../../../projects/ngx-maplibre-gl/src/lib/control/control.component.ts","../../../projects/ngx-maplibre-gl/src/lib/control/attribution-control.directive.ts","../../../projects/ngx-maplibre-gl/src/lib/control/fullscreen-control.directive.ts","../../../projects/ngx-maplibre-gl/src/lib/control/geolocate-control.directive.ts","../../../projects/ngx-maplibre-gl/src/lib/control/navigation-control.directive.ts","../../../projects/ngx-maplibre-gl/src/lib/control/scale-control.directive.ts","../../../projects/ngx-maplibre-gl/src/lib/control/terrain-control.directive.ts","../../../projects/ngx-maplibre-gl/src/lib/source/geojson/geojson-source.component.ts","../../../projects/ngx-maplibre-gl/src/lib/source/geojson/feature.component.ts","../../../projects/ngx-maplibre-gl/src/lib/draggable/draggable.directive.ts","../../../projects/ngx-maplibre-gl/src/lib/image/image.component.ts","../../../projects/ngx-maplibre-gl/src/lib/layer/layer.component.ts","../../../projects/ngx-maplibre-gl/src/lib/map/map.component.ts","../../../projects/ngx-maplibre-gl/src/lib/marker/marker.component.ts","../../../projects/ngx-maplibre-gl/src/lib/markers-for-clusters/markers-for-clusters.component.ts","../../../projects/ngx-maplibre-gl/src/lib/popup/popup.component.ts","../../../projects/ngx-maplibre-gl/src/lib/source/canvas-source.component.ts","../../../projects/ngx-maplibre-gl/src/lib/source/image-source.component.ts","../../../projects/ngx-maplibre-gl/src/lib/source/raster-dem-source.component.ts","../../../projects/ngx-maplibre-gl/src/lib/source/raster-source.component.ts","../../../projects/ngx-maplibre-gl/src/lib/source/vector-source.component.ts","../../../projects/ngx-maplibre-gl/src/lib/source/video-source.component.ts","../../../projects/ngx-maplibre-gl/src/lib/ngx-maplibre-gl.module.ts","../../../projects/ngx-maplibre-gl/src/public_api.ts","../../../projects/ngx-maplibre-gl/src/maplibre-ngx-maplibre-gl.ts"],"sourcesContent":["import { EventEmitter, Injectable, NgZone } from '@angular/core';\nimport {\n  CameraOptions,\n  FlyToOptions,\n  LngLatLike,\n  MapOptions,\n  MarkerOptions,\n  PopupOptions,\n  Map,\n  Marker,\n  Popup,\n  AnimationOptions,\n  LayerSpecification,\n  StyleSpecification,\n  LngLatBoundsLike,\n  PointLike,\n  IControl,\n  SourceSpecification,\n  FitBoundsOptions,\n  Source,\n  BackgroundLayerSpecification,\n  FillLayerSpecification,\n  FillExtrusionLayerSpecification,\n  LineLayerSpecification,\n  SymbolLayerSpecification,\n  RasterLayerSpecification,\n  CircleLayerSpecification,\n  FilterSpecification,\n  TerrainSpecification,\n  QueryRenderedFeaturesOptions,\n} from 'maplibre-gl';\nimport { AsyncSubject, Observable, Subscription } from 'rxjs';\nimport { first } from 'rxjs/operators';\nimport {\n  LayerEvents,\n  MapEvent,\n  MapImageData,\n  MapImageOptions,\n} from './map.types';\n\nexport interface SetupMap {\n  mapOptions: Omit<MapOptions, 'bearing' | 'pitch' | 'zoom'> & {\n    bearing?: [number];\n    pitch?: [number];\n    zoom?: [number];\n    terrain?: TerrainSpecification;\n  };\n  mapEvents: MapEvent;\n}\n\nexport interface SetupLayer {\n  layerOptions: LayerSpecification;\n  layerEvents: LayerEvents;\n}\n\nexport interface SetupPopup {\n  popupOptions: PopupOptions;\n  popupEvents: {\n    popupOpen: EventEmitter<void>;\n    popupClose: EventEmitter<void>;\n  };\n}\n\nexport interface SetupMarker {\n  markersOptions: {\n    pitchAlignment?: MarkerOptions['pitchAlignment'];\n    rotationAlignment?: MarkerOptions['rotationAlignment'];\n    rotation?: MarkerOptions['rotation'];\n    offset?: MarkerOptions['offset'];\n    anchor?: MarkerOptions['anchor'];\n    color?: MarkerOptions['color'];\n    draggable?: MarkerOptions['draggable'];\n    element: HTMLElement;\n    feature?: GeoJSON.Feature<GeoJSON.Point>;\n    lngLat?: LngLatLike;\n    clickTolerance?: MarkerOptions['clickTolerance'];\n  };\n  markersEvents: {\n    markerDragStart: EventEmitter<Marker>;\n    markerDrag: EventEmitter<Marker>;\n    markerDragEnd: EventEmitter<Marker>;\n  };\n}\n\nexport type MovingOptions =\n  | FlyToOptions\n  | (AnimationOptions & CameraOptions)\n  | CameraOptions;\n\n@Injectable()\nexport class MapService {\n  mapInstance: Map;\n  mapCreated$: Observable<void>;\n  mapLoaded$: Observable<void>;\n  mapEvents: MapEvent;\n\n  private mapCreated = new AsyncSubject<void>();\n  private mapLoaded = new AsyncSubject<void>();\n  private markersToRemove: Marker[] = [];\n  private popupsToRemove: Popup[] = [];\n  private imageIdsToRemove: string[] = [];\n  private subscription = new Subscription();\n\n  constructor(private zone: NgZone) {\n    this.mapCreated$ = this.mapCreated.asObservable();\n    this.mapLoaded$ = this.mapLoaded.asObservable();\n  }\n\n  setup(options: SetupMap) {\n    // Need onStable to wait for a potential @angular/route transition to end\n    this.zone.onStable.pipe(first()).subscribe(() => {\n      // Workaround rollup issue\n      this.createMap(options.mapOptions as MapOptions);\n      this.hookEvents(options.mapEvents);\n      this.mapEvents = options.mapEvents;\n      this.mapCreated.next(undefined);\n      this.mapCreated.complete();\n\n      if (options.mapOptions.terrain) {\n        this.mapInstance.on('load', () => {\n          this.updateTerrain(options.mapOptions.terrain!);\n        });\n      }\n    });\n  }\n\n  destroyMap() {\n    if (this.mapInstance) {\n      this.subscription.unsubscribe();\n      this.mapInstance.remove();\n    }\n  }\n\n  updateMinZoom(minZoom: number) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.setMinZoom(minZoom);\n    });\n  }\n\n  updateMaxZoom(maxZoom: number) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.setMaxZoom(maxZoom);\n    });\n  }\n\n  updateMinPitch(minPitch: number) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.setMinPitch(minPitch);\n    });\n  }\n\n  updateMaxPitch(maxPitch: number) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.setMaxPitch(maxPitch);\n    });\n  }\n\n  updateRenderWorldCopies(status: boolean) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.setRenderWorldCopies(status);\n    });\n  }\n\n  updateScrollZoom(status: boolean) {\n    return this.zone.runOutsideAngular(() => {\n      status\n        ? this.mapInstance.scrollZoom.enable()\n        : this.mapInstance.scrollZoom.disable();\n    });\n  }\n\n  updateDragRotate(status: boolean) {\n    return this.zone.runOutsideAngular(() => {\n      status\n        ? this.mapInstance.dragRotate.enable()\n        : this.mapInstance.dragRotate.disable();\n    });\n  }\n\n  updateTouchPitch(status: boolean) {\n    return this.zone.runOutsideAngular(() => {\n      status\n        ? this.mapInstance.touchPitch.enable()\n        : this.mapInstance.touchPitch.disable();\n    });\n  }\n\n  updateTouchZoomRotate(status: boolean) {\n    return this.zone.runOutsideAngular(() => {\n      status\n        ? this.mapInstance.touchZoomRotate.enable()\n        : this.mapInstance.touchZoomRotate.disable();\n    });\n  }\n\n  updateDoubleClickZoom(status: boolean) {\n    return this.zone.runOutsideAngular(() => {\n      status\n        ? this.mapInstance.doubleClickZoom.enable()\n        : this.mapInstance.doubleClickZoom.disable();\n    });\n  }\n\n  updateKeyboard(status: boolean) {\n    return this.zone.runOutsideAngular(() => {\n      status\n        ? this.mapInstance.keyboard.enable()\n        : this.mapInstance.keyboard.disable();\n    });\n  }\n\n  updateDragPan(status: boolean) {\n    return this.zone.runOutsideAngular(() => {\n      status\n        ? this.mapInstance.dragPan.enable()\n        : this.mapInstance.dragPan.disable();\n    });\n  }\n\n  updateBoxZoom(status: boolean) {\n    return this.zone.runOutsideAngular(() => {\n      status\n        ? this.mapInstance.boxZoom.enable()\n        : this.mapInstance.boxZoom.disable();\n    });\n  }\n\n  updateStyle(style: StyleSpecification) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.setStyle(style);\n    });\n  }\n\n  updateMaxBounds(maxBounds: LngLatBoundsLike) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.setMaxBounds(maxBounds);\n    });\n  }\n\n  updateTerrain(options: TerrainSpecification) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.setTerrain(options);\n    });\n  }\n\n  getTerrain(): TerrainSpecification | null {\n    return this.zone.runOutsideAngular(() => {\n      return this.mapInstance.getTerrain();\n    });\n  }\n\n  changeCanvasCursor(cursor: string) {\n    const canvas = this.mapInstance.getCanvasContainer();\n    canvas.style.cursor = cursor;\n  }\n\n  queryRenderedFeatures(\n    pointOrBox?:\n      | PointLike\n      | [PointLike, PointLike]\n      | QueryRenderedFeaturesOptions,\n    parameters?: QueryRenderedFeaturesOptions\n  ): GeoJSON.Feature<GeoJSON.GeometryObject>[] {\n    return this.mapInstance.queryRenderedFeatures(pointOrBox, parameters);\n  }\n\n  panTo(center: LngLatLike, options?: AnimationOptions) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.panTo(center, options);\n    });\n  }\n\n  move(\n    movingMethod: 'jumpTo' | 'easeTo' | 'flyTo',\n    movingOptions?: MovingOptions,\n    zoom?: number,\n    center?: LngLatLike,\n    bearing?: number,\n    pitch?: number\n  ) {\n    return this.zone.runOutsideAngular(() => {\n      (this.mapInstance[movingMethod] as any)({\n        ...movingOptions,\n        zoom: zoom != null ? zoom : this.mapInstance.getZoom(),\n        center: center != null ? center : this.mapInstance.getCenter(),\n        bearing: bearing != null ? bearing : this.mapInstance.getBearing(),\n        pitch: pitch != null ? pitch : this.mapInstance.getPitch(),\n      });\n    });\n  }\n\n  addLayer(layer: SetupLayer, bindEvents: boolean, before?: string) {\n    this.zone.runOutsideAngular(() => {\n      Object.keys(layer.layerOptions).forEach((key: string) => {\n        const tkey = <keyof LayerSpecification>key;\n        if (layer.layerOptions[tkey] === undefined) {\n          delete layer.layerOptions[tkey];\n        }\n      });\n      this.mapInstance.addLayer(\n        layer.layerOptions as LayerSpecification,\n        before\n      );\n      if (bindEvents) {\n        if (layer.layerEvents.layerClick.observers.length) {\n          this.mapInstance.on('click', layer.layerOptions.id, (evt) => {\n            this.zone.run(() => {\n              layer.layerEvents.layerClick.emit(evt);\n            });\n          });\n        }\n        if (layer.layerEvents.layerDblClick.observers.length) {\n          this.mapInstance.on('dblclick', layer.layerOptions.id, (evt) => {\n            this.zone.run(() => {\n              layer.layerEvents.layerDblClick.emit(evt);\n            });\n          });\n        }\n        if (layer.layerEvents.layerMouseDown.observers.length) {\n          this.mapInstance.on('mousedown', layer.layerOptions.id, (evt) => {\n            this.zone.run(() => {\n              layer.layerEvents.layerMouseDown.emit(evt);\n            });\n          });\n        }\n        if (layer.layerEvents.layerMouseUp.observers.length) {\n          this.mapInstance.on('mouseup', layer.layerOptions.id, (evt) => {\n            this.zone.run(() => {\n              layer.layerEvents.layerMouseUp.emit(evt);\n            });\n          });\n        }\n        if (layer.layerEvents.layerMouseEnter.observers.length) {\n          this.mapInstance.on('mouseenter', layer.layerOptions.id, (evt) => {\n            this.zone.run(() => {\n              layer.layerEvents.layerMouseEnter.emit(evt);\n            });\n          });\n        }\n        if (layer.layerEvents.layerMouseLeave.observers.length) {\n          this.mapInstance.on('mouseleave', layer.layerOptions.id, (evt) => {\n            this.zone.run(() => {\n              layer.layerEvents.layerMouseLeave.emit(evt);\n            });\n          });\n        }\n        if (layer.layerEvents.layerMouseMove.observers.length) {\n          this.mapInstance.on('mousemove', layer.layerOptions.id, (evt) => {\n            this.zone.run(() => {\n              layer.layerEvents.layerMouseMove.emit(evt);\n            });\n          });\n        }\n        if (layer.layerEvents.layerMouseOver.observers.length) {\n          this.mapInstance.on('mouseover', layer.layerOptions.id, (evt) => {\n            this.zone.run(() => {\n              layer.layerEvents.layerMouseOver.emit(evt);\n            });\n          });\n        }\n        if (layer.layerEvents.layerMouseOut.observers.length) {\n          this.mapInstance.on('mouseout', layer.layerOptions.id, (evt) => {\n            this.zone.run(() => {\n              layer.layerEvents.layerMouseOut.emit(evt);\n            });\n          });\n        }\n        if (layer.layerEvents.layerContextMenu.observers.length) {\n          this.mapInstance.on('contextmenu', layer.layerOptions.id, (evt) => {\n            this.zone.run(() => {\n              layer.layerEvents.layerContextMenu.emit(evt);\n            });\n          });\n        }\n        if (layer.layerEvents.layerTouchStart.observers.length) {\n          this.mapInstance.on('touchstart', layer.layerOptions.id, (evt) => {\n            this.zone.run(() => {\n              layer.layerEvents.layerTouchStart.emit(evt);\n            });\n          });\n        }\n        if (layer.layerEvents.layerTouchEnd.observers.length) {\n          this.mapInstance.on('touchend', layer.layerOptions.id, (evt) => {\n            this.zone.run(() => {\n              layer.layerEvents.layerTouchEnd.emit(evt);\n            });\n          });\n        }\n        if (layer.layerEvents.layerTouchCancel.observers.length) {\n          this.mapInstance.on('touchcancel', layer.layerOptions.id, (evt) => {\n            this.zone.run(() => {\n              layer.layerEvents.layerTouchCancel.emit(evt);\n            });\n          });\n        }\n      }\n    });\n  }\n\n  removeLayer(layerId: string) {\n    this.zone.runOutsideAngular(() => {\n      if (this.mapInstance.getLayer(layerId) != null) {\n        this.mapInstance.removeLayer(layerId);\n      }\n    });\n  }\n\n  addMarker(marker: SetupMarker) {\n    const options: MarkerOptions = {\n      offset: marker.markersOptions.offset,\n      anchor: marker.markersOptions.anchor,\n      color: marker.markersOptions.color,\n      draggable: !!marker.markersOptions.draggable,\n      rotationAlignment: marker.markersOptions.rotationAlignment,\n      rotation: marker.markersOptions.rotation,\n      pitchAlignment: marker.markersOptions.pitchAlignment,\n      clickTolerance: marker.markersOptions.clickTolerance,\n    };\n    if (marker.markersOptions.element.childNodes.length > 0) {\n      options.element = marker.markersOptions.element;\n    }\n    const markerInstance = new Marker(options);\n    if (marker.markersEvents.markerDragStart.observers.length) {\n      markerInstance.on('dragstart', (event: { target: Marker }) => {\n        if (event) {\n          const { target } = event;\n          this.zone.run(() => {\n            marker.markersEvents.markerDragStart.emit(target);\n          });\n        }\n      });\n    }\n    /*\n\n     */\n    if (marker.markersEvents.markerDrag.observers.length) {\n      markerInstance.on('drag', (event: { target: Marker }) => {\n        if (event) {\n          const { target } = event;\n          this.zone.run(() => {\n            marker.markersEvents.markerDrag.emit(target);\n          });\n        }\n      });\n    }\n    if (marker.markersEvents.markerDragEnd.observers.length) {\n      markerInstance.on('dragend', (event: { target: Marker }) => {\n        if (event) {\n          const { target } = event;\n          this.zone.run(() => {\n            marker.markersEvents.markerDragEnd.emit(target);\n          });\n        }\n      });\n    }\n    const lngLat: LngLatLike = marker.markersOptions.feature\n      ? <[number, number]>marker.markersOptions.feature.geometry!.coordinates\n      : marker.markersOptions.lngLat!;\n    markerInstance.setLngLat(lngLat);\n    return this.zone.runOutsideAngular(() => {\n      markerInstance.addTo(this.mapInstance);\n      return markerInstance;\n    });\n  }\n\n  removeMarker(marker: Marker) {\n    this.markersToRemove.push(marker);\n  }\n\n  createPopup(popup: SetupPopup, element: Node) {\n    return this.zone.runOutsideAngular(() => {\n      Object.keys(popup.popupOptions).forEach(\n        (key) =>\n          (popup.popupOptions as any)[key] === undefined &&\n          delete (popup.popupOptions as any)[key]\n      );\n      const popupInstance = new Popup(popup.popupOptions);\n      popupInstance.setDOMContent(element);\n      if (popup.popupEvents.popupClose.observers.length) {\n        popupInstance.on('close', () => {\n          this.zone.run(() => {\n            popup.popupEvents.popupClose.emit();\n          });\n        });\n      }\n      if (popup.popupEvents.popupOpen.observers.length) {\n        popupInstance.on('open', () => {\n          this.zone.run(() => {\n            popup.popupEvents.popupOpen.emit();\n          });\n        });\n      }\n      return popupInstance;\n    });\n  }\n\n  addPopupToMap(popup: Popup, lngLat: LngLatLike, skipOpenEvent = false) {\n    return this.zone.runOutsideAngular(() => {\n      if (skipOpenEvent && popup._listeners) {\n        delete popup._listeners['open'];\n      }\n      popup.setLngLat(lngLat);\n      popup.addTo(this.mapInstance);\n    });\n  }\n\n  addPopupToMarker(marker: Marker, popup: Popup) {\n    return this.zone.runOutsideAngular(() => {\n      marker.setPopup(popup);\n    });\n  }\n\n  removePopupFromMap(popup: Popup, skipCloseEvent = false) {\n    if (skipCloseEvent && popup._listeners) {\n      delete popup._listeners['close'];\n    }\n    this.popupsToRemove.push(popup);\n  }\n\n  removePopupFromMarker(marker: Marker) {\n    return this.zone.runOutsideAngular(() => {\n      marker.setPopup(undefined);\n    });\n  }\n\n  addControl(\n    control: IControl,\n    position?: 'top-right' | 'top-left' | 'bottom-right' | 'bottom-left'\n  ) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.addControl(control, position);\n    });\n  }\n\n  removeControl(control: IControl) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.removeControl(control);\n    });\n  }\n\n  async loadAndAddImage(\n    imageId: string,\n    url: string,\n    options?: MapImageOptions\n  ) {\n    return this.zone.runOutsideAngular(async () => {\n        const image = await this.mapInstance.loadImage(url);\n        this.addImage(imageId, image.data, options);\n    });\n  }\n\n  addImage(imageId: string, data: MapImageData, options?: MapImageOptions) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.addImage(imageId, data as any, options);\n    });\n  }\n\n  removeImage(imageId: string) {\n    this.imageIdsToRemove.push(imageId);\n  }\n\n  addSource(sourceId: string, source: SourceSpecification) {\n    return this.zone.runOutsideAngular(() => {\n      Object.keys(source).forEach(\n        (key) =>\n          (source as any)[key] === undefined && delete (source as any)[key]\n      );\n      this.mapInstance.addSource(sourceId, source);\n    });\n  }\n\n  getSource<T extends Source>(sourceId: string): T {\n    return <T>this.mapInstance.getSource(sourceId);\n  }\n\n  removeSource(sourceId: string) {\n    this.zone.runOutsideAngular(() => {\n      this.findLayersBySourceId(sourceId).forEach((layer) =>\n        this.mapInstance.removeLayer(layer.id)\n      );\n      this.mapInstance.removeSource(sourceId);\n    });\n  }\n\n  setAllLayerPaintProperty(\n    layerId: string,\n    paint:\n      | BackgroundLayerSpecification['paint']\n      | FillLayerSpecification['paint']\n      | FillExtrusionLayerSpecification['paint']\n      | LineLayerSpecification['paint']\n      | SymbolLayerSpecification['paint']\n      | RasterLayerSpecification['paint']\n      | CircleLayerSpecification['paint']\n  ) {\n    return this.zone.runOutsideAngular(() => {\n      Object.keys(paint as any).forEach((key) => {\n        // TODO Check for perf, setPaintProperty only on changed paint props maybe\n        this.mapInstance.setPaintProperty(layerId, key, (paint as any)[key]);\n      });\n    });\n  }\n\n  setAllLayerLayoutProperty(\n    layerId: string,\n    layout:\n      | BackgroundLayerSpecification['layout']\n      | FillLayerSpecification['layout']\n      | FillExtrusionLayerSpecification['layout']\n      | LineLayerSpecification['layout']\n      | SymbolLayerSpecification['layout']\n      | RasterLayerSpecification['layout']\n      | CircleLayerSpecification['layout']\n  ) {\n    return this.zone.runOutsideAngular(() => {\n      Object.keys(layout as any).forEach((key) => {\n        // TODO Check for perf, setPaintProperty only on changed paint props maybe\n        this.mapInstance.setLayoutProperty(layerId, key, (layout as any)[key]);\n      });\n    });\n  }\n\n  setLayerFilter(\n    layerId: string,\n    filter: FilterSpecification | null | undefined\n  ) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.setFilter(layerId, filter);\n    });\n  }\n\n  setLayerBefore(layerId: string, beforeId: string) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.moveLayer(layerId, beforeId);\n    });\n  }\n\n  setLayerZoomRange(layerId: string, minZoom?: number, maxZoom?: number) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.setLayerZoomRange(\n        layerId,\n        minZoom ? minZoom : 0,\n        maxZoom ? maxZoom : 20\n      );\n    });\n  }\n\n  fitBounds(bounds: LngLatBoundsLike, options?: FitBoundsOptions) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.fitBounds(bounds, options);\n    });\n  }\n\n  fitScreenCoordinates(\n    points: [PointLike, PointLike],\n    bearing: number,\n    options?: AnimationOptions & CameraOptions\n  ) {\n    return this.zone.runOutsideAngular(() => {\n      this.mapInstance.fitScreenCoordinates(\n        points[0],\n        points[1],\n        bearing,\n        options\n      );\n    });\n  }\n\n  applyChanges() {\n    this.zone.runOutsideAngular(() => {\n      this.removeMarkers();\n      this.removePopups();\n      this.removeImages();\n    });\n  }\n\n  private createMap(options: MapOptions) {\n    NgZone.assertNotInAngularZone();\n    Object.keys(options).forEach((key: string) => {\n      const tkey = <keyof MapOptions>key;\n      if (options[tkey] === undefined) {\n        delete options[tkey];\n      }\n    });\n    this.mapInstance = new Map(options);\n\n    const isIEorEdge =\n      window && /msie\\s|trident\\/|edge\\//i.test(window.navigator.userAgent);\n    if (isIEorEdge) {\n      this.mapInstance.setStyle(options.style!);\n    }\n\n    this.subscription.add(\n      this.zone.onMicrotaskEmpty.subscribe(() => this.applyChanges())\n    );\n  }\n\n  private removeMarkers() {\n    for (const marker of this.markersToRemove) {\n      marker.remove();\n    }\n    this.markersToRemove = [];\n  }\n\n  private removePopups() {\n    for (const popup of this.popupsToRemove) {\n      popup.remove();\n    }\n    this.popupsToRemove = [];\n  }\n\n  private removeImages() {\n    for (const imageId of this.imageIdsToRemove) {\n      this.mapInstance.removeImage(imageId);\n    }\n    this.imageIdsToRemove = [];\n  }\n\n  private findLayersBySourceId(sourceId: string): LayerSpecification[] {\n    const layers = this.mapInstance.getStyle().layers;\n    if (layers == null) {\n      return [];\n    }\n\n    return layers.filter((l) =>\n      'source' in l ? l.source === sourceId : false\n    );\n  }\n\n  private hookEvents(events: MapEvent) {\n    this.mapInstance.on('load', (evt) => {\n      this.mapLoaded.next(undefined);\n      this.mapLoaded.complete();\n      this.zone.run(() => {\n        events.mapLoad.emit(evt.target);\n      });\n    });\n    if (events.mapResize.observers.length) {\n      this.mapInstance.on('resize', (evt) =>\n        this.zone.run(() => {\n          events.mapResize.emit(evt);\n        })\n      );\n    }\n    if (events.mapRemove.observers.length) {\n      this.mapInstance.on('remove', (evt) =>\n        this.zone.run(() => {\n          events.mapRemove.emit(evt);\n        })\n      );\n    }\n    if (events.mapMouseDown.observers.length) {\n      this.mapInstance.on('mousedown', (evt) =>\n        this.zone.run(() => {\n          events.mapMouseDown.emit(evt);\n        })\n      );\n    }\n    if (events.mapMouseUp.observers.length) {\n      this.mapInstance.on('mouseup', (evt) =>\n        this.zone.run(() => {\n          events.mapMouseUp.emit(evt);\n        })\n      );\n    }\n    if (events.mapMouseMove.observers.length) {\n      this.mapInstance.on('mousemove', (evt) =>\n        this.zone.run(() => {\n          events.mapMouseMove.emit(evt);\n        })\n      );\n    }\n    if (events.mapClick.observers.length) {\n      this.mapInstance.on('click', (evt) =>\n        this.zone.run(() => {\n          events.mapClick.emit(evt);\n        })\n      );\n    }\n    if (events.mapDblClick.observers.length) {\n      this.mapInstance.on('dblclick', (evt) =>\n        this.zone.run(() => {\n          events.mapDblClick.emit(evt);\n        })\n      );\n    }\n    if (events.mapMouseOver.observers.length) {\n      this.mapInstance.on('mouseover', (evt) =>\n        this.zone.run(() => {\n          events.mapMouseOver.emit(evt);\n        })\n      );\n    }\n    if (events.mapMouseOut.observers.length) {\n      this.mapInstance.on('mouseout', (evt) =>\n        this.zone.run(() => {\n          events.mapMouseOut.emit(evt);\n        })\n      );\n    }\n    if (events.mapContextMenu.observers.length) {\n      this.mapInstance.on('contextmenu', (evt) =>\n        this.zone.run(() => {\n          events.mapContextMenu.emit(evt);\n        })\n      );\n    }\n    if (events.mapTouchStart.observers.length) {\n      this.mapInstance.on('touchstart', (evt) =>\n        this.zone.run(() => {\n          events.mapTouchStart.emit(evt);\n        })\n      );\n    }\n    if (events.mapTouchEnd.observers.length) {\n      this.mapInstance.on('touchend', (evt) =>\n        this.zone.run(() => {\n          events.mapTouchEnd.emit(evt);\n        })\n      );\n    }\n    if (events.mapTouchMove.observers.length) {\n      this.mapInstance.on('touchmove', (evt) =>\n        this.zone.run(() => {\n          events.mapTouchMove.emit(evt);\n        })\n      );\n    }\n    if (events.mapTouchCancel.observers.length) {\n      this.mapInstance.on('touchcancel', (evt) =>\n        this.zone.run(() => {\n          events.mapTouchCancel.emit(evt);\n        })\n      );\n    }\n    if (events.mapWheel.observers.length) {\n      this.mapInstance.on('wheel', (evt) =>\n        this.zone.run(() => {\n          events.mapWheel.emit(evt);\n        })\n      );\n    }\n    if (events.moveStart.observers.length) {\n      this.mapInstance.on('movestart', (evt) =>\n        this.zone.run(() => events.moveStart.emit(evt))\n      );\n    }\n    if (events.move.observers.length) {\n      this.mapInstance.on('move', (evt) =>\n        this.zone.run(() => events.move.emit(evt))\n      );\n    }\n    if (events.moveEnd.observers.length) {\n      this.mapInstance.on('moveend', (evt) =>\n        this.zone.run(() => events.moveEnd.emit(evt))\n      );\n    }\n    if (events.mapDragStart.observers.length) {\n      this.mapInstance.on('dragstart', (evt) =>\n        this.zone.run(() => {\n          events.mapDragStart.emit(evt);\n        })\n      );\n    }\n    if (events.mapDrag.observers.length) {\n      this.mapInstance.on('drag', (evt) =>\n        this.zone.run(() => {\n          events.mapDrag.emit(evt);\n        })\n      );\n    }\n    if (events.mapDragEnd.observers.length) {\n      this.mapInstance.on('dragend', (evt) =>\n        this.zone.run(() => {\n          events.mapDragEnd.emit(evt);\n        })\n      );\n    }\n    if (events.zoomStart.observers.length) {\n      this.mapInstance.on('zoomstart', (evt) =>\n        this.zone.run(() => events.zoomStart.emit(evt))\n      );\n    }\n    if (events.zoomEvt.observers.length) {\n      this.mapInstance.on('zoom', (evt) =>\n        this.zone.run(() => events.zoomEvt.emit(evt))\n      );\n    }\n    if (events.zoomEnd.observers.length) {\n      this.mapInstance.on('zoomend', (evt) =>\n        this.zone.run(() => events.zoomEnd.emit(evt))\n      );\n    }\n    if (events.rotateStart.observers.length) {\n      this.mapInstance.on('rotatestart', (evt) =>\n        this.zone.run(() => events.rotateStart.emit(evt))\n      );\n    }\n    if (events.rotate.observers.length) {\n      this.mapInstance.on('rotate', (evt) =>\n        this.zone.run(() => events.rotate.emit(evt))\n      );\n    }\n    if (events.rotateEnd.observers.length) {\n      this.mapInstance.on('rotateend', (evt) =>\n        this.zone.run(() => events.rotateEnd.emit(evt))\n      );\n    }\n    if (events.pitchStart.observers.length) {\n      this.mapInstance.on('pitchstart', (evt) =>\n        this.zone.run(() => events.pitchStart.emit(evt))\n      );\n    }\n    if (events.pitchEvt.observers.length) {\n      this.mapInstance.on('pitch', (evt) =>\n        this.zone.run(() => events.pitchEvt.emit(evt))\n      );\n    }\n    if (events.pitchEnd.observers.length) {\n      this.mapInstance.on('pitchend', (evt) =>\n        this.zone.run(() => events.pitchEnd.emit(evt))\n      );\n    }\n    if (events.boxZoomStart.observers.length) {\n      this.mapInstance.on('boxzoomstart', (evt) =>\n        this.zone.run(() => events.boxZoomStart.emit(evt))\n      );\n    }\n    if (events.boxZoomEnd.observers.length) {\n      this.mapInstance.on('boxzoomend', (evt) =>\n        this.zone.run(() => events.boxZoomEnd.emit(evt))\n      );\n    }\n    if (events.boxZoomCancel.observers.length) {\n      this.mapInstance.on('boxzoomcancel', (evt) =>\n        this.zone.run(() => events.boxZoomCancel.emit(evt))\n      );\n    }\n    if (events.webGlContextLost.observers.length) {\n      this.mapInstance.on('webglcontextlost', (evt) =>\n        this.zone.run(() => events.webGlContextLost.emit(evt))\n      );\n    }\n    if (events.webGlContextRestored.observers.length) {\n      this.mapInstance.on('webglcontextrestored', (evt) =>\n        this.zone.run(() => events.webGlContextRestored.emit(evt))\n      );\n    }\n    if (events.render.observers.length) {\n      this.mapInstance.on('render', (evt) =>\n        this.zone.run(() => events.render.emit(evt))\n      );\n    }\n    if (events.mapError.observers.length) {\n      this.mapInstance.on('error', (evt) =>\n        this.zone.run(() => {\n          events.mapError.emit(evt);\n        })\n      );\n    }\n    if (events.data.observers.length) {\n      this.mapInstance.on('data', (evt) =>\n        this.zone.run(() => events.data.emit(evt))\n      );\n    }\n    if (events.styleData.observers.length) {\n      this.mapInstance.on('styledata', (evt) =>\n        this.zone.run(() => events.styleData.emit(evt))\n      );\n    }\n    if (events.sourceData.observers.length) {\n      this.mapInstance.on('sourcedata', (evt) =>\n        this.zone.run(() => events.sourceData.emit(evt))\n      );\n    }\n    if (events.dataLoading.observers.length) {\n      this.mapInstance.on('dataloading', (evt) =>\n        this.zone.run(() => events.dataLoading.emit(evt))\n      );\n    }\n    if (events.styleDataLoading.observers.length) {\n      this.mapInstance.on('styledataloading', (evt) =>\n        this.zone.run(() => events.styleDataLoading.emit(evt))\n      );\n    }\n    if (events.sourceDataLoading.observers.length) {\n      this.mapInstance.on('sourcedataloading', (evt) =>\n        this.zone.run(() => events.sourceDataLoading.emit(evt))\n      );\n    }\n    if (events.styleImageMissing.observers.length) {\n      this.mapInstance.on('styleimagemissing', (evt) =>\n        this.zone.run(() => events.styleImageMissing.emit(evt))\n      );\n    }\n    if (events.idle.observers.length) {\n      this.mapInstance.on('idle', (evt) =>\n        this.zone.run(() => events.idle.emit(evt))\n      );\n    }\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  Input,\n  OnDestroy,\n  ViewChild,\n  afterNextRender\n} from '@angular/core';\nimport { ControlPosition, IControl } from 'maplibre-gl';\nimport { MapService } from '../map/map.service';\n\nexport class CustomControl implements IControl {\n  constructor(private container: HTMLElement) {}\n\n  onAdd() {\n    return this.container;\n  }\n\n  onRemove() {\n    return this.container.parentNode!.removeChild(this.container);\n  }\n\n  getDefaultPosition(): ControlPosition {\n    return 'top-right';\n  }\n}\n\n/**\n * `mgl-control` - a custom control component\n * @see [Controls](https://maplibre.org/maplibre-gl-js/docs/API/interfaces/IControl/)\n *\n * @category Components\n *\n * @example\n * ```html\n * ...\n * <mgl-map ...>\n *   <mgl-control> Hello </mgl-control>\n *   ...\n *   <mgl-control mglNavigation></mgl-control>\n *   ...\n *   <mgl-control mglScale unit=\"imperial\" position=\"top-right\"></mgl-control>\n *   ...\n *   <mgl-control\n *     mglTerrain\n *     source=\"rasterDemSource\"\n *     exaggeration=\"3.1\"\n *   ></mgl-control>\n * </mgl-map>\n * ```\n */\n@Component({\n  selector: 'mgl-control',\n  template:\n    '<div class=\"maplibregl-ctrl\" #content><ng-content></ng-content></div>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: true,\n})\nexport class ControlComponent<T extends IControl> implements OnDestroy {\n  /** Init input */\n  @Input() position?: 'top-left' | 'top-right' | 'bottom-left' | 'bottom-right';\n  /** @hidden */\n  @ViewChild('content', { static: true }) content: ElementRef;\n\n  control: T | CustomControl;\n\n  constructor(private mapService: MapService) {\n    afterNextRender(() => {\n      if (this.content.nativeElement.childNodes.length) {\n        this.control = new CustomControl(this.content.nativeElement);\n        this.mapService.mapCreated$.subscribe(() => {\n          this.mapService.addControl(this.control!, this.position);\n        });\n      }\n    });\n  }\n\n  ngOnDestroy() {\n    if (this.mapService?.mapInstance?.hasControl(this.control)) {\n      this.mapService.removeControl(this.control);\n    }\n  }\n}\n","import { AfterContentInit, Directive, Host, Input } from '@angular/core';\nimport { AttributionControl } from 'maplibre-gl';\nimport { MapService } from '../map/map.service';\nimport { ControlComponent } from './control.component';\n\n/**\n * `mglAttribution` - an attribution control directive\n * \n * @category Directives\n * \n * @see [Add custom attribution](https://maplibre.org/ngx-maplibre-gl/demo/custom-attribution)\n * @see [AttributionControl](https://maplibre.org/maplibre-gl-js/docs/API/classes/AttributionControl)\n */\n@Directive({\n  selector: '[mglAttribution]',\n  standalone: true,\n})\nexport class AttributionControlDirective implements AfterContentInit {\n  /** Init input */\n  @Input() compact?: boolean;\n  /** Init input */\n  @Input() customAttribution?: string | string[];\n\n  constructor(\n    private mapService: MapService,\n    @Host() private controlComponent: ControlComponent<AttributionControl>\n  ) {}\n\n  ngAfterContentInit() {\n    this.mapService.mapCreated$.subscribe(() => {\n      if (this.controlComponent.control) {\n        throw new Error('Another control is already set for this control');\n      }\n      const options: {\n        compact?: boolean;\n        customAttribution?: string | string[];\n      } = {};\n      if (this.compact !== undefined) {\n        options.compact = this.compact;\n      }\n      if (this.customAttribution !== undefined) {\n        options.customAttribution = this.customAttribution;\n      }\n      this.controlComponent.control = new AttributionControl(options);\n      this.mapService.addControl(\n        this.controlComponent.control,\n        this.controlComponent.position\n      );\n    });\n  }\n}\n","import {\n  AfterContentInit,\n  Directive,\n  Host,\n  HostListener,\n  Input,\n} from '@angular/core';\nimport { FullscreenControl } from 'maplibre-gl';\nimport { MapService } from '../map/map.service';\nimport { ControlComponent } from './control.component';\n\n/**\n * `mglFullscreen` - a fullscreen control directive\n * \n * @category Directives\n */\n@Directive({\n  selector: '[mglFullscreen]',\n  standalone: true,\n})\nexport class FullscreenControlDirective implements AfterContentInit {\n  /* Init inputs */\n  @Input() container?: HTMLElement;\n  @HostListener('window:webkitfullscreenchange', ['$event.target'])\n  onFullscreen() {\n    this.mapService.mapInstance.resize();\n  }\n\n  constructor(\n    private mapService: MapService,\n    @Host() private controlComponent: ControlComponent<FullscreenControl>\n  ) {}\n\n  ngAfterContentInit() {\n    this.mapService.mapCreated$.subscribe(() => {\n      if (this.controlComponent.control) {\n        throw new Error('Another control is already set for this control');\n      }\n      this.controlComponent.control = new FullscreenControl({\n        container: this.container,\n      });\n      this.mapService.addControl(\n        this.controlComponent.control,\n        this.controlComponent.position\n      );\n    });\n  }\n}\n","import {\n  AfterContentInit,\n  Directive,\n  EventEmitter,\n  Host,\n  Input,\n  Output,\n} from '@angular/core';\nimport { FitBoundsOptions, GeolocateControl } from 'maplibre-gl';\nimport { MapService } from '../map/map.service';\nimport { ControlComponent } from './control.component';\nimport { Position } from '../map/map.types';\n\n/**\n * `mglGeolocate` - a geolocate control directive\n * \n * @category Directives\n * \n * @see [Locate user](https://maplibre.org/ngx-maplibre-gl/demo/locate-user)\n * @see [GeolocateControl](https://maplibre.org/maplibre-gl-js/docs/API/classes/GeolocateControl)\n */\n@Directive({\n  selector: '[mglGeolocate]',\n  standalone: true,\n})\nexport class GeolocateControlDirective implements AfterContentInit {\n  /* Init inputs */\n  @Input() positionOptions?: PositionOptions;\n  @Input() fitBoundsOptions?: FitBoundsOptions;\n  @Input() trackUserLocation?: boolean;\n  @Input() showUserLocation?: boolean;\n\n  @Output()\n  geolocate: EventEmitter<Position> = new EventEmitter<Position>();\n\n  constructor(\n    private mapService: MapService,\n    @Host() private controlComponent: ControlComponent<GeolocateControl>\n  ) {}\n\n  ngAfterContentInit() {\n    this.mapService.mapCreated$.subscribe(() => {\n      if (this.controlComponent.control) {\n        throw new Error('Another control is already set for this control');\n      }\n      const options = {\n        positionOptions: this.positionOptions,\n        fitBoundsOptions: this.fitBoundsOptions,\n        trackUserLocation: this.trackUserLocation,\n        showUserLocation: this.showUserLocation,\n      };\n\n      Object.keys(options).forEach((key: string) => {\n        const tkey = <keyof typeof options>key;\n        if (options[tkey] === undefined) {\n          delete options[tkey];\n        }\n      });\n      this.controlComponent.control = new GeolocateControl(options);\n      this.controlComponent.control.on('geolocate', (data: Position) => {\n        this.geolocate.emit(data);\n      });\n      this.mapService.addControl(\n        this.controlComponent.control,\n        this.controlComponent.position\n      );\n    });\n  }\n}\n","import { AfterContentInit, Directive, Host, Input } from '@angular/core';\nimport { NavigationControl } from 'maplibre-gl';\nimport { MapService } from '../map/map.service';\nimport { ControlComponent } from './control.component';\n\n/**\n * `mglNavigation` - a navigation control directive\n * \n * @category Directives\n * \n * @see [Navigation](https://maplibre.org/ngx-maplibre-gl/demo/navigation)\n * @see [NavigationControl](https://maplibre.org/maplibre-gl-js/docs/API/classes/NavigationControl)\n */\n@Directive({\n  selector: '[mglNavigation]',\n  standalone: true,\n})\nexport class NavigationControlDirective implements AfterContentInit {\n  /* Init inputs */\n  @Input() showCompass?: boolean;\n  @Input() showZoom?: boolean;\n  @Input() visualizePitch?: boolean;\n\n  constructor(\n    private mapService: MapService,\n    @Host() private controlComponent: ControlComponent<NavigationControl>\n  ) {}\n\n  ngAfterContentInit() {\n    this.mapService.mapCreated$.subscribe(() => {\n      if (this.controlComponent.control) {\n        throw new Error('Another control is already set for this control');\n      }\n\n      const options: {\n        showCompass?: boolean;\n        showZoom?: boolean;\n        visualizePitch?: boolean;\n      } = {};\n\n      if (this.showCompass !== undefined) {\n        options.showCompass = this.showCompass;\n      }\n\n      if (this.showZoom !== undefined) {\n        options.showZoom = this.showZoom;\n      }\n\n      if (this.visualizePitch != undefined) {\n        options.visualizePitch = this.visualizePitch;\n      }\n\n      this.controlComponent.control = new NavigationControl(options);\n      this.mapService.addControl(\n        this.controlComponent.control,\n        this.controlComponent.position\n      );\n    });\n  }\n}\n","import {\n  AfterContentInit,\n  Directive,\n  Host,\n  Input,\n  OnChanges,\n  SimpleChanges,\n} from '@angular/core';\nimport { ScaleControl, ScaleControlOptions } from 'maplibre-gl';\nimport { MapService } from '../map/map.service';\nimport { ControlComponent } from './control.component';\n\n/**\n * `mglScale` - a scale control directive\n * \n * @category Directives\n * \n * @see [Scale](https://maplibre.org/ngx-maplibre-gl/demo/ngx-scale-control)\n * @see [ScaleControl](https://maplibre.org/maplibre-gl-js/docs/API/classes/ScaleControl)\n */\n@Directive({\n  selector: '[mglScale]',\n  standalone: true,\n})\nexport class ScaleControlDirective implements AfterContentInit, OnChanges {\n  /* Init inputs */\n  @Input() maxWidth?: number;\n\n  /* Dynamic inputs */\n  @Input() unit?: 'imperial' | 'metric' | 'nautical';\n\n  constructor(\n    private mapService: MapService,\n    @Host() private controlComponent: ControlComponent<ScaleControl>\n  ) {}\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.unit && !changes.unit.isFirstChange()) {\n      (this.controlComponent.control as ScaleControl).setUnit(\n        changes.unit.currentValue\n      );\n    }\n  }\n\n  ngAfterContentInit() {\n    this.mapService.mapCreated$.subscribe(() => {\n      if (this.controlComponent.control) {\n        throw new Error('Another control is already set for this control');\n      }\n      const options: ScaleControlOptions = {};\n      if (this.maxWidth !== undefined) {\n        options.maxWidth = this.maxWidth;\n      }\n      if (this.unit !== undefined) {\n        options.unit = this.unit;\n      }\n      this.controlComponent.control = new ScaleControl(options);\n      this.mapService.addControl(\n        this.controlComponent.control,\n        this.controlComponent.position\n      );\n    });\n  }\n}\n","import { AfterContentInit, Directive, Host, Input } from '@angular/core';\nimport { TerrainControl, TerrainSpecification } from 'maplibre-gl';\nimport { MapService } from '../map/map.service';\nimport { ControlComponent } from './control.component';\n\n/**\n * `mglTerrain` - a terrain control directive\n * \n * @category Directives\n * \n * @see [Terrain](https://maplibre.org/ngx-maplibre-gl/demo/terrain-control)\n * @see [TerrainControl](https://maplibre.org/maplibre-gl-js/docs/API/classes/TerrainControl)\n */\n@Directive({\n  selector: '[mglTerrain]',\n  standalone: true,\n})\nexport class TerrainControlDirective implements AfterContentInit {\n  /* Init inputs */\n  @Input() source: string;\n  @Input() exaggeration?: number;\n\n  constructor(\n    private mapService: MapService,\n    @Host() private controlComponent: ControlComponent<TerrainControl>\n  ) {}\n\n  ngAfterContentInit() {\n    this.mapService.mapCreated$.subscribe(() => {\n      if (this.controlComponent.control) {\n        throw new Error('Another control is already set for this control');\n      }\n\n      const options: TerrainSpecification = {\n        source: this.source,\n        exaggeration: this.exaggeration ?? 1,\n      };\n\n      this.controlComponent.control = new TerrainControl(options);\n\n      this.mapService.addControl(\n        this.controlComponent.control,\n        this.controlComponent.position\n      );\n    });\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  SimpleChanges,\n  NgZone,\n} from '@angular/core';\nimport { GeoJSONSource, GeoJSONSourceSpecification } from 'maplibre-gl';\nimport { fromEvent, Subject, Subscription } from 'rxjs';\nimport { debounceTime, filter } from 'rxjs/operators';\nimport { MapService } from '../../map/map.service';\n\n/**\n * `mgl-geojson-source` - a geojson source component \n * @see [geojson](https://maplibre.org/maplibre-gl-js/docs/API/classes/maplibregl.GeoJSONSource/)\n * \n * @category Source Components\n * \n * @example\n * ```html\n * ...\n * <mgl-map ...>\n *   <mgl-geojson-source id=\"symbols-source\">\n *     <mgl-feature\n *       *ngFor=\"let geometry of geometries\"\n *       [geometry]=\"geometry\"\n *     ></mgl-feature>\n *   </mgl-geojson-source>\n *   ...\n *   <mgl-geojson-source\n *     id=\"earthquakes\"\n *     [data]=\"earthquakes\"\n *     [cluster]=\"true\"\n *     [clusterMaxZoom]=\"14\"\n *     [clusterRadius]=\"50\"\n *   ></mgl-geojson-source>\n * </mgl-map>\n * \n * ```\n */\n@Component({\n    selector: 'mgl-geojson-source',\n    template: '',\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    standalone: true,\n})\nexport class GeoJSONSourceComponent\n  implements OnInit, OnDestroy, OnChanges, GeoJSONSourceSpecification {\n  /** Init input */\n  @Input() id: string;\n\n  /** Dynamic input */\n  @Input() data: GeoJSONSourceSpecification['data'];\n  /** Dynamic input */\n  @Input() maxzoom?: GeoJSONSourceSpecification['maxzoom'];\n  /** Dynamic input */\n  @Input() attribution?: GeoJSONSourceSpecification['attribution'];\n  /** Dynamic input */\n  @Input() buffer?: GeoJSONSourceSpecification['buffer'];\n  /** Dynamic input */\n  @Input() tolerance?: GeoJSONSourceSpecification['tolerance'];\n  /** Dynamic input */\n  @Input() cluster?: GeoJSONSourceSpecification['cluster'];\n  /** Dynamic input */\n  @Input() clusterRadius?: GeoJSONSourceSpecification['clusterRadius'];\n  /** Dynamic input */\n  @Input() clusterMaxZoom?: GeoJSONSourceSpecification['clusterMaxZoom'];\n  /** Dynamic input */\n  @Input() clusterMinPoints?: GeoJSONSourceSpecification['clusterMinPoints'];\n  /** Dynamic input */\n  @Input() clusterProperties?: GeoJSONSourceSpecification['clusterProperties'];\n  /** Dynamic input */\n  @Input() lineMetrics?: GeoJSONSourceSpecification['lineMetrics'];\n  /** Dynamic input */\n  @Input() generateId?: GeoJSONSourceSpecification['generateId'];\n  /** Dynamic input */\n  @Input() promoteId?: GeoJSONSourceSpecification['promoteId'];\n  /** Dynamic input */\n  @Input() filter?: GeoJSONSourceSpecification['filter'];\n\n  /** @hidden */\n  type: GeoJSONSourceSpecification['type'] = 'geojson';\n\n  updateFeatureData = new Subject();\n\n  private sub = new Subscription();\n  private sourceAdded = false;\n  private featureIdCounter = 0;\n\n  constructor(private mapService: MapService, private zone: NgZone) {}\n\n  ngOnInit() {\n    if (!this.data) {\n      this.data = {\n        type: 'FeatureCollection',\n        features: [],\n      };\n    }\n    const sub1 = this.mapService.mapLoaded$.subscribe(() => {\n      this.init();\n      const sub = fromEvent(this.mapService.mapInstance, 'styledata')\n        .pipe(filter(() => !this.mapService.mapInstance.getSource(this.id)))\n        .subscribe(() => {\n          this.init();\n        });\n      this.sub.add(sub);\n    });\n    this.sub.add(sub1);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (!this.sourceAdded) {\n      return;\n    }\n    if (\n      (changes.maxzoom && !changes.maxzoom.isFirstChange()) ||\n      (changes.attribution && !changes.attribution.isFirstChange()) ||\n      (changes.buffer && !changes.buffer.isFirstChange()) ||\n      (changes.tolerance && !changes.tolerance.isFirstChange()) ||\n      (changes.cluster && !changes.cluster.isFirstChange()) ||\n      (changes.clusterRadius && !changes.clusterRadius.isFirstChange()) ||\n      (changes.clusterMaxZoom && !changes.clusterMaxZoom.isFirstChange()) ||\n      (changes.clusterMinPoints && !changes.clusterMinPoints.isFirstChange()) ||\n      (changes.clusterProperties &&\n        !changes.clusterProperties.isFirstChange()) ||\n      (changes.lineMetrics && !changes.lineMetrics.isFirstChange()) ||\n      (changes.generateId && !changes.generateId.isFirstChange()) ||\n      (changes.promoteId && !changes.promoteId.isFirstChange()) ||\n      (changes.filter && !changes.filter.isFirstChange())\n    ) {\n      this.ngOnDestroy();\n      this.ngOnInit();\n    }\n    if (changes.data && !changes.data.isFirstChange()) {\n      const source = this.mapService.getSource<GeoJSONSource>(this.id);\n      if (source === undefined) {\n        return;\n      }\n      source.setData(this.data! as string | GeoJSON.GeoJSON);\n    }\n  }\n\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n    if (this.sourceAdded) {\n      this.mapService.removeSource(this.id);\n      this.sourceAdded = false;\n    }\n  }\n\n  /**\n   * For clustered sources, fetches the zoom at which the given cluster expands.\n   * @param clusterId The value of the cluster's cluster_id property.\n   */\n  async getClusterExpansionZoom(clusterId: number) {\n    const source = this.mapService.getSource<GeoJSONSource>(this.id);\n    return this.zone.run(async () => {\n      return source.getClusterExpansionZoom(clusterId);\n    });\n  }\n\n  /**\n   * For clustered sources, fetches the children of the given cluster on the next zoom level (as an array of GeoJSON features).\n   * @param clusterId The value of the cluster's cluster_id property.\n   */\n  async getClusterChildren(clusterId: number) {\n    const source = this.mapService.getSource<GeoJSONSource>(this.id);\n    return this.zone.run(async () => {\n      return source.getClusterChildren(clusterId);\n    });\n  }\n\n  /**\n   * For clustered sources, fetches the original points that belong to the cluster (as an array of GeoJSON features).\n   * @param clusterId The value of the cluster's cluster_id property.\n   * @param limit The maximum number of features to return.\n   * @param offset The number of features to skip (e.g. for pagination).\n   */\n  async getClusterLeaves(clusterId: number, limit: number, offset: number) {\n    const source = this.mapService.getSource<GeoJSONSource>(this.id);\n    return this.zone.run(async () => {\n      return source.getClusterLeaves(\n        clusterId,\n        limit,\n        offset,\n      );\n    });\n  }\n\n  _addFeature(feature: GeoJSON.Feature<GeoJSON.GeometryObject>) {\n    const collection = <GeoJSON.FeatureCollection<GeoJSON.GeometryObject>>(\n      this.data\n    );\n    collection.features.push(feature);\n    this.updateFeatureData.next(undefined);\n  }\n\n  _removeFeature(feature: GeoJSON.Feature<GeoJSON.GeometryObject>) {\n    const collection = <GeoJSON.FeatureCollection<GeoJSON.GeometryObject>>(\n      this.data\n    );\n    const index = collection.features.indexOf(feature);\n    if (index > -1) {\n      collection.features.splice(index, 1);\n    }\n    this.updateFeatureData.next(undefined);\n  }\n\n  _getNewFeatureId() {\n    return ++this.featureIdCounter;\n  }\n\n  private init() {\n    const source: GeoJSONSourceSpecification = {\n      type: 'geojson',\n      data: this.data,\n      maxzoom: this.maxzoom,\n      attribution: this.attribution,\n      buffer: this.buffer,\n      tolerance: this.tolerance,\n      cluster: this.cluster,\n      clusterRadius: this.clusterRadius,\n      clusterMaxZoom: this.clusterMaxZoom,\n      clusterMinPoints: this.clusterMinPoints,\n      clusterProperties: this.clusterProperties,\n      lineMetrics: this.lineMetrics,\n      generateId: this.generateId,\n      promoteId: this.promoteId,\n      filter: this.filter,\n    };\n    this.mapService.addSource(this.id, source);\n    const sub = this.updateFeatureData.pipe(debounceTime(0)).subscribe(() => {\n      const source = this.mapService.getSource<GeoJSONSource>(this.id);\n      if (source === undefined) {\n        return;\n      }\n      source.setData(this.data! as string | GeoJSON.GeoJSON);\n    });\n    this.sub.add(sub);\n    this.sourceAdded = true;\n  }\n}\n","import {\n  Component,\n  forwardRef,\n  Inject,\n  Input,\n  OnDestroy,\n  OnInit,\n  ChangeDetectionStrategy,\n} from '@angular/core';\nimport { GeoJSONSourceComponent } from './geojson-source.component';\n\n/**\n * `mgl-feature` - a feature component\n * [ngx] inside {@link GeoJSONSourceComponent} only\n * \n * @category Source Components\n */\n@Component({\n    selector: 'mgl-feature',\n    template: '',\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    standalone: true,\n})\nexport class FeatureComponent\n  implements OnInit, OnDestroy, GeoJSON.Feature<GeoJSON.GeometryObject> {\n  /** Init input */\n  @Input() id?: number; // FIXME number only for now https://github.com/mapbox/mapbox-gl-js/issues/2716\n  /** Init input */\n  @Input() geometry: GeoJSON.GeometryObject;\n  /** Init input */\n  @Input() properties: any;\n  type: 'Feature' = 'Feature';\n\n  private feature: GeoJSON.Feature<GeoJSON.GeometryObject>;\n\n  constructor(\n    @Inject(forwardRef(() => GeoJSONSourceComponent))\n    private geoJSONSourceComponent: GeoJSONSourceComponent\n  ) {}\n\n  ngOnInit() {\n    if (!this.id) {\n      this.id = this.geoJSONSourceComponent._getNewFeatureId();\n    }\n    this.feature = {\n      type: this.type,\n      geometry: this.geometry,\n      properties: this.properties ? this.properties : {},\n    };\n    this.feature.id = this.id;\n    this.geoJSONSourceComponent._addFeature(this.feature);\n  }\n\n  ngOnDestroy() {\n    this.geoJSONSourceComponent._removeFeature(this.feature);\n  }\n\n  updateCoordinates(coordinates: number[]) {\n    (<GeoJSON.Point>this.feature.geometry).coordinates = coordinates;\n    this.geoJSONSourceComponent.updateFeatureData.next(undefined);\n  }\n}\n","import {\n  Directive,\n  EventEmitter,\n  Host,\n  Input,\n  NgZone,\n  OnDestroy,\n  OnInit,\n  Optional,\n  Output,\n} from '@angular/core';\nimport { MapMouseEvent } from 'maplibre-gl';\nimport { fromEvent, Observable, Subscription } from 'rxjs';\nimport { filter, switchMap, take, takeUntil, tap } from 'rxjs/operators';\nimport { LayerComponent } from '../layer/layer.component';\nimport { MapService } from '../map/map.service';\nimport { FeatureComponent } from '../source/geojson/feature.component';\n\n/**\n * `mglDraggable` - a directive for Feature or Marker\n * \n * @category Directives\n * \n * @see [Draggable Marker](https://maplibre.org/ng-maplibre-gl/demo/ngx-drag-a-point)\n */\n@Directive({\n  selector: '[mglDraggable]',\n  standalone: true,\n})\nexport class DraggableDirective implements OnInit, OnDestroy {\n  // eslint-disable-next-line @angular-eslint/no-input-rename\n  @Input('mglDraggable') layer?: LayerComponent;\n\n  @Output() featureDragStart = new EventEmitter<MapMouseEvent>();\n  @Output() featureDragEnd = new EventEmitter<MapMouseEvent>();\n  @Output() featureDrag = new EventEmitter<MapMouseEvent>();\n\n  private sub = new Subscription();\n\n  constructor(\n    private mapService: MapService,\n    private ngZone: NgZone,\n    @Optional() @Host() private featureComponent?: FeatureComponent\n  ) {}\n\n  ngOnInit() {\n    let enter$;\n    let leave$;\n    let updateCoords;\n    if (this.featureComponent && this.layer) {\n      enter$ = this.layer.layerMouseEnter;\n      leave$ = this.layer.layerMouseLeave;\n      updateCoords = this.featureComponent.updateCoordinates.bind(\n        this.featureComponent\n      );\n      if (this.featureComponent.geometry.type !== 'Point') {\n        throw new Error('mglDraggable only support point feature');\n      }\n    } else {\n      throw new Error(\n        'mglDraggable can only be used on Feature (with a layer as input) or Marker'\n      );\n    }\n\n    this.handleDraggable(enter$, leave$, updateCoords);\n  }\n\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n  }\n\n  private handleDraggable(\n    enter$: Observable<MapMouseEvent>,\n    leave$: Observable<MapMouseEvent>,\n    updateCoords: (coord: number[]) => void\n  ) {\n    let moving = false;\n    let inside = false;\n    this.mapService.mapCreated$.subscribe(() => {\n      const mouseUp$ = fromEvent<MapMouseEvent>(\n        this.mapService.mapInstance,\n        'mouseup'\n      );\n      const dragStart$ = enter$.pipe(\n        filter(() => !moving),\n        filter((evt) => this.filterFeature(evt)),\n        tap(() => {\n          inside = true;\n          this.mapService.changeCanvasCursor('move');\n          this.mapService.updateDragPan(false);\n        }),\n        switchMap(() =>\n          fromEvent<MapMouseEvent>(\n            this.mapService.mapInstance,\n            'mousedown'\n          ).pipe(takeUntil(leave$))\n        )\n      );\n      const dragging$ = dragStart$.pipe(\n        switchMap(() =>\n          fromEvent<MapMouseEvent>(\n            this.mapService.mapInstance,\n            'mousemove'\n          ).pipe(takeUntil(mouseUp$))\n        )\n      );\n      const dragEnd$ = dragStart$.pipe(switchMap(() => mouseUp$.pipe(take(1))));\n      this.sub.add(\n        dragStart$.subscribe((evt) => {\n          moving = true;\n          if (this.featureDragStart.observers.length) {\n            this.ngZone.run(() => {\n              this.featureDragStart.emit(evt);\n            });\n          }\n        })\n      );\n      this.sub.add(\n        dragging$.subscribe((evt) => {\n          updateCoords([evt.lngLat.lng, evt.lngLat.lat]);\n          if (this.featureDrag.observers.length) {\n            this.ngZone.run(() => {\n              this.featureDrag.emit(evt);\n            });\n          }\n        })\n      );\n      this.sub.add(\n        dragEnd$.subscribe((evt) => {\n          moving = false;\n          if (this.featureDragEnd.observers.length) {\n            this.ngZone.run(() => {\n              this.featureDragEnd.emit(evt);\n            });\n          }\n          if (!inside) {\n            // It's possible to dragEnd outside the target (small input lag)\n            this.mapService.changeCanvasCursor('');\n            this.mapService.updateDragPan(true);\n          }\n        })\n      );\n      this.sub.add(\n        leave$\n          .pipe(\n            tap(() => (inside = false)),\n            filter(() => !moving)\n          )\n          .subscribe(() => {\n            this.mapService.changeCanvasCursor('');\n            this.mapService.updateDragPan(true);\n          })\n      );\n    });\n  }\n\n  private filterFeature(evt: MapMouseEvent) {\n    if (this.featureComponent && this.layer) {\n      const feature: GeoJSON.Feature = this.mapService.queryRenderedFeatures(\n        evt.point,\n        {\n          layers: [this.layer.id],\n          filter: [\n            'all',\n            ['==', '$type', 'Point'],\n            ['==', '$id', this.featureComponent.id as number],\n          ],\n        }\n      )[0];\n      if (!feature) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\n","import {\n  Component,\n  EventEmitter,\n  Input,\n  NgZone,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges,\n} from '@angular/core';\nimport { fromEvent, Subscription } from 'rxjs';\nimport { filter, startWith, switchMap } from 'rxjs/operators';\nimport { MapService } from '../map/map.service';\nimport { MapImageData, MapImageOptions } from '../map/map.types';\n\n/**\n * `mgl-image` - an image component\n * @see [addImage](https://maplibre.org/maplibre-gl-js/docs/API/classes/Map/#addimage)\n * \n * @category Components\n * \n * @example\n * ```html\n * ...\n * <mgl-map\n *   ...\n * >\n *    <mgl-image\n *      id=\"image\"\n *      url=\"https://...\"\n *      (imageLoaded)=\"imageLoaded = true\"\n *    >\n *    ...\n *    <mgl-image\n *      id=\"image2\"\n *      [data]=\"{\n *        width: 64,\n *        height: 64,\n *        data: imageData\n *      }\"\n *    >\n * </mgl-map>\n * ...\n * imageData: Uint8Array;\n * ```\n */\n@Component({\n  selector: 'mgl-image',\n  template: '',\n  standalone: true,\n})\nexport class ImageComponent implements OnInit, OnDestroy, OnChanges {\n  /** Init input */\n  @Input() id: string;\n\n  /** Dynamic input */\n  @Input() data?: MapImageData;\n  /** Dynamic input */\n  @Input() options?: MapImageOptions;\n  /** Dynamic input */\n  @Input() url?: string;\n\n  @Output() imageError = new EventEmitter<{ status: number }>();\n  @Output() imageLoaded = new EventEmitter<void>();\n\n  private isAdded = false;\n  private isAdding = false;\n  private sub: Subscription;\n\n  constructor(private mapService: MapService, private zone: NgZone) {}\n\n  ngOnInit() {\n    this.sub = this.mapService.mapLoaded$\n      .pipe(\n        switchMap(() =>\n          fromEvent(this.mapService.mapInstance, 'styledata').pipe(\n            startWith(undefined),\n            filter(\n              () =>\n                !this.isAdding && !this.mapService.mapInstance.hasImage(this.id)\n            )\n          )\n        )\n      )\n      .subscribe(() => this.init());\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (\n      (changes.data && !changes.data.isFirstChange()) ||\n      (changes.options && !changes.options.isFirstChange()) ||\n      (changes.url && !changes.url.isFirstChange())\n    ) {\n      this.ngOnDestroy();\n      this.ngOnInit();\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.isAdded) {\n      this.mapService.removeImage(this.id);\n    }\n    if (this.sub) {\n      this.sub.unsubscribe();\n    }\n  }\n\n  private async init() {\n    this.isAdding = true;\n    if (this.data) {\n      this.mapService.addImage(this.id, this.data, this.options);\n      this.isAdded = true;\n      this.isAdding = false;\n    } else if (this.url) {\n      try {\n        await this.mapService.loadAndAddImage(this.id, this.url, this.options);\n        this.isAdded = true;\n        this.isAdding = false;\n        this.zone.run(() => {\n          this.imageLoaded.emit();\n        });\n      } catch (error) {\n        this.zone.run(() => {\n          this.imageError.emit(error as any);\n        });\n      }\n    }\n  }\n}\n","import {\n  Component,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges,\n} from '@angular/core';\nimport {\n  LayerSpecification,\n  FilterSpecification,\n  MapLayerMouseEvent,\n  MapLayerTouchEvent,\n} from 'maplibre-gl';\nimport { fromEvent, Subscription } from 'rxjs';\nimport { filter, map, startWith, switchMap } from 'rxjs/operators';\nimport { MapService, SetupLayer } from '../map/map.service';\nimport { EventData, LayerEvents } from '../map/map.types';\n\n/**\n * `mgl-layer` - a layer component\n * @see [layers](https://maplibre.org/maplibre-style-spec/layers/)\n * \n * @category Layer Component\n * \n * @example\n * ```html\n * ...\n * <mgl-map ...>\n *   <mgl-layer\n *     id=\"state-borders\"\n *     type=\"line\"\n *     [source]=\"states\"\n *     [paint]=\"{\n *       'line-color': '#627BC1',\n *       'line-width': 2\n *     }\"\n *   ></mgl-layer>\n * </mgl-map>\n * ```\n */\n@Component({\n  selector: 'mgl-layer',\n  template: '',\n  standalone: true,\n})\nexport class LayerComponent\n  implements OnInit, OnDestroy, OnChanges, LayerEvents {\n  /** Init input */\n  @Input() id: LayerSpecification['id'];\n  /** Init input */\n  @Input() source?: string;\n  /** Init input */\n  @Input() type: LayerSpecification['type'];\n  /** Init input */\n  @Input() metadata?: LayerSpecification['metadata'];\n  /** Init input */\n  @Input() sourceLayer?: string;\n  /**\n   * A flag to enable removeSource clean up functionality\n   * \n   * Init input\n   */\n  @Input() removeSource?: boolean;\n\n  /** Dynamic input */\n  @Input() filter?: FilterSpecification;\n  /** Dynamic input */\n  @Input() layout?: LayerSpecification['layout'];\n  /** Dynamic input */\n  @Input() paint?: LayerSpecification['paint'];\n  /** Dynamic input */\n  @Input() before?: string;\n  /** Dynamic input */\n  @Input() minzoom?: LayerSpecification['minzoom'];\n  /** Dynamic input */\n  @Input() maxzoom?: LayerSpecification['maxzoom'];\n\n  @Output() layerClick = new EventEmitter<MapLayerMouseEvent & EventData>();\n  @Output() layerDblClick = new EventEmitter<MapLayerMouseEvent & EventData>();\n  @Output() layerMouseDown = new EventEmitter<MapLayerMouseEvent & EventData>();\n  @Output() layerMouseUp = new EventEmitter<MapLayerMouseEvent & EventData>();\n  @Output() layerMouseEnter = new EventEmitter<\n    MapLayerMouseEvent & EventData\n  >();\n  @Output() layerMouseLeave = new EventEmitter<\n    MapLayerMouseEvent & EventData\n  >();\n  @Output() layerMouseMove = new EventEmitter<MapLayerMouseEvent & EventData>();\n  @Output() layerMouseOver = new EventEmitter<MapLayerMouseEvent & EventData>();\n  @Output() layerMouseOut = new EventEmitter<MapLayerMouseEvent & EventData>();\n  @Output() layerContextMenu = new EventEmitter<\n    MapLayerMouseEvent & EventData\n  >();\n  @Output() layerTouchStart = new EventEmitter<\n    MapLayerTouchEvent & EventData\n  >();\n  @Output() layerTouchEnd = new EventEmitter<MapLayerTouchEvent & EventData>();\n  @Output() layerTouchCancel = new EventEmitter<\n    MapLayerTouchEvent & EventData\n  >();\n\n  private layerAdded = false;\n  private sub: Subscription;\n  private sourceIdAdded?: string;\n\n  constructor(private mapService: MapService) {}\n\n  ngOnInit() {\n    this.sub = this.mapService.mapLoaded$\n      .pipe(\n        switchMap(() =>\n          fromEvent(this.mapService.mapInstance, 'styledata').pipe(\n            map(() => false),\n            filter(() => !this.mapService.mapInstance.getLayer(this.id)),\n            startWith(true)\n          )\n        )\n      )\n      .subscribe((bindEvents: boolean) => this.init(bindEvents));\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (!this.layerAdded) {\n      return;\n    }\n    if (changes.paint && !changes.paint.isFirstChange()) {\n      this.mapService.setAllLayerPaintProperty(\n        this.id,\n        changes.paint.currentValue!\n      );\n    }\n    if (changes.layout && !changes.layout.isFirstChange()) {\n      this.mapService.setAllLayerLayoutProperty(\n        this.id,\n        changes.layout.currentValue!\n      );\n    }\n    if (changes.filter && !changes.filter.isFirstChange()) {\n      this.mapService.setLayerFilter(this.id, changes.filter.currentValue!);\n    }\n    if (changes.before && !changes.before.isFirstChange()) {\n      this.mapService.setLayerBefore(this.id, changes.before.currentValue!);\n    }\n    if (\n      (changes.minzoom && !changes.minzoom.isFirstChange()) ||\n      (changes.maxzoom && !changes.maxzoom.isFirstChange())\n    ) {\n      this.mapService.setLayerZoomRange(this.id, this.minzoom, this.maxzoom);\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.layerAdded) {\n      this.mapService.removeLayer(this.id);\n      if (undefined !== this.sourceIdAdded) {\n        // Clean up any automatically created source for this layer\n        if (this.mapService.getSource(this.sourceIdAdded)) {\n          this.mapService.removeSource(this.sourceIdAdded);\n        }\n      }\n    }\n    if (this.sub) {\n      this.sub.unsubscribe();\n    }\n  }\n\n  private init(bindEvents: boolean) {\n    const layer: SetupLayer = {\n      layerOptions: {\n        id: this.id,\n        type: this.type,\n        source: this.source as string,\n        metadata: this.metadata,\n        // eslint-disable-next-line @typescript-eslint/naming-convention\n        'source-layer': this.sourceLayer,\n        minzoom: this.minzoom,\n        maxzoom: this.maxzoom,\n        filter: this.filter,\n        layout: this.layout,\n        paint: this.paint,\n      } as LayerSpecification,\n      layerEvents: {\n        layerClick: this.layerClick,\n        layerDblClick: this.layerDblClick,\n        layerMouseDown: this.layerMouseDown,\n        layerMouseUp: this.layerMouseUp,\n        layerMouseEnter: this.layerMouseEnter,\n        layerMouseLeave: this.layerMouseLeave,\n        layerMouseMove: this.layerMouseMove,\n        layerMouseOver: this.layerMouseOver,\n        layerMouseOut: this.layerMouseOut,\n        layerContextMenu: this.layerContextMenu,\n        layerTouchStart: this.layerTouchStart,\n        layerTouchEnd: this.layerTouchEnd,\n        layerTouchCancel: this.layerTouchCancel,\n      },\n    };\n    if (this.removeSource && typeof this.source !== 'string') {\n      // There is no id of an existing source bound to this layer\n      if (undefined === this.mapService.getSource(this.id)) {\n        // A source with this layer id doesn't exist so it will be created automatically in the addLayer call below\n        this.sourceIdAdded = this.id;\n      }\n    }\n    this.mapService.addLayer(layer, bindEvents, this.before);\n    if (undefined !== this.sourceIdAdded) {\n      if (undefined === this.mapService.getSource(this.sourceIdAdded)) {\n        // If it wasn't created for some reason then we don't want to clean it up\n        this.sourceIdAdded = undefined;\n      }\n    }\n    this.layerAdded = true;\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnDestroy,\n  Output,\n  SimpleChanges,\n  ViewChild,\n  afterNextRender,\n} from '@angular/core';\nimport {\n  AnimationOptions,\n  LngLatBoundsLike,\n  Map,\n  MapLibreEvent,\n  MapOptions,\n  MapLibreZoomEvent,\n  MapContextEvent,\n  MapDataEvent,\n  MapMouseEvent,\n  MapSourceDataEvent,\n  MapStyleDataEvent,\n  MapTouchEvent,\n  MapWheelEvent,\n  PointLike,\n  TerrainSpecification,\n} from 'maplibre-gl';\nimport { MapService, MovingOptions } from './map.service';\nimport { MapEvent, EventData } from './map.types';\nimport { Subscription, firstValueFrom } from 'rxjs';\n\n/**\n * `mgl-map` - The main map component\n * @see [Map](https://maplibre.org/maplibre-gl-js/docs/API/classes/Map/)\n *\n * @category Map Component\n *\n * @example\n * ```typescript\n * ...\n * @Component({\n *   template: `\n *   <mgl-map\n *     [style]=\"'https://demotiles.maplibre.org/style.json'\"\n *     [zoom]=\"[9]\"\n *     [center]=\"[-74.50, 40]\"\n *     (mapLoad)=\"map = $event\"\n *   ></mgl-map>\n *   `,\n * ...\n * })\n * export class DisplayMapComponent {\n *   map: Map; // MapLibre GL Map object (MapLibre is ran outside angular zone, keep that in mind when binding events from this object)\n * ...\n * }\n * ```\n */\n\n@Component({\n  selector: 'mgl-map',\n  template: '<div #container></div>',\n  styles: [\n    `\n      :host {\n        display: block;\n      }\n      div {\n        height: 100%;\n        width: 100%;\n      }\n    `,\n  ],\n  providers: [MapService],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: true,\n})\nexport class MapComponent\n  implements\n    OnChanges,\n    OnDestroy,\n    Omit<MapOptions, 'bearing' | 'container' | 'pitch' | 'zoom'>,\n    MapEvent\n{\n  /** Init input */\n  @Input() collectResourceTiming?: MapOptions['collectResourceTiming'];\n  /** Init input */\n  @Input() crossSourceCollisions?: MapOptions['crossSourceCollisions'];\n  /** Init input */\n  @Input() customMapboxApiUrl?: string;\n  /** Init input */\n  @Input() fadeDuration?: MapOptions['fadeDuration'];\n  /** Init input */\n  @Input() hash?: MapOptions['hash'];\n  /** Init input */\n  @Input() refreshExpiredTiles?: MapOptions['refreshExpiredTiles'];\n  /** Init input */\n  @Input()\n  failIfMajorPerformanceCaveat?: MapOptions['failIfMajorPerformanceCaveat'];\n  /** Init input */\n  @Input() bearingSnap?: MapOptions['bearingSnap'];\n  /** Init input */\n  @Input() interactive?: MapOptions['interactive'];\n  /** Init input */\n  @Input() pitchWithRotate?: MapOptions['pitchWithRotate'];\n  /** Init input */\n  @Input() clickTolerance?: MapOptions['clickTolerance'];\n  /** Init input */\n  @Input() attributionControl?: MapOptions['attributionControl'];\n  /** Init input */\n  @Input() logoPosition?: MapOptions['logoPosition'];\n  /** Init input */\n  @Input() maxTileCacheSize?: MapOptions['maxTileCacheSize'];\n  /** Init input */\n  @Input() localIdeographFontFamily?: MapOptions['localIdeographFontFamily'];\n  /** Init input */\n  @Input() preserveDrawingBuffer?: MapOptions['preserveDrawingBuffer'];\n  /** Init input */\n  @Input() trackResize?: MapOptions['trackResize'];\n  /** Init input */\n  @Input() transformRequest?: MapOptions['transformRequest'];\n  /** Init input */\n  @Input() bounds?: MapOptions['bounds']; // Use fitBounds for dynamic input\n  /** Init input */\n  @Input() antialias?: MapOptions['antialias'];\n  /** Init input */\n  @Input() locale: MapOptions['locale'];\n  /** Init inputs */\n  @Input() cooperativeGestures?: MapOptions['cooperativeGestures'];\n\n  /** Dynamic input */\n  @Input() minZoom?: MapOptions['minZoom'];\n  /** Dynamic input */\n  @Input() maxZoom?: MapOptions['maxZoom'];\n  /** Dynamic input */\n  @Input() minPitch?: MapOptions['minPitch'];\n  /** Dynamic input */\n  @Input() maxPitch?: MapOptions['maxPitch'];\n  /** Dynamic input */\n  @Input() scrollZoom?: MapOptions['scrollZoom'];\n  /** Dynamic input */\n  @Input() dragRotate?: MapOptions['dragRotate'];\n  /** Dynamic input */\n  @Input() touchPitch?: MapOptions['touchPitch'];\n  /** Dynamic input */\n  @Input() touchZoomRotate?: MapOptions['touchZoomRotate'];\n  /** Dynamic input */\n  @Input() doubleClickZoom?: MapOptions['doubleClickZoom'];\n  /** Dynamic input */\n  @Input() keyboard?: MapOptions['keyboard'];\n  /** Dynamic input */\n  @Input() dragPan?: MapOptions['dragPan'];\n  /** Dynamic input */\n  @Input() boxZoom?: MapOptions['boxZoom'];\n  /** Dynamic input */\n  @Input() style: MapOptions['style'];\n  /** Dynamic input */\n  @Input() center?: MapOptions['center'];\n  /** Dynamic input */\n  @Input() maxBounds?: MapOptions['maxBounds'];\n  /** Dynamic input */\n  @Input() zoom?: [number];\n  /** Dynamic input */\n  @Input() bearing?: [number];\n  /** Dynamic input */\n  @Input() pitch?: [number];\n  /** Dynamic input */\n  @Input() fitBoundsOptions?: MapOptions['fitBoundsOptions']; // First value goes to options.fitBoundsOptions. Subsequents changes are passed to fitBounds\n  /** Dynamic input */\n  @Input() renderWorldCopies?: MapOptions['renderWorldCopies'];\n  /** Dynamic input */\n  @Input() terrain: TerrainSpecification;\n\n  /** Added by ngx-mapbox-gl */\n  @Input() movingMethod: 'jumpTo' | 'easeTo' | 'flyTo' = 'flyTo';\n  /** Added by ngx-mapbox-gl */\n  @Input() movingOptions?: MovingOptions;\n\n  // => First value is a alias to bounds input (since mapbox 0.53.0). Subsequents changes are passed to fitBounds\n  @Input() fitBounds?: LngLatBoundsLike;\n  @Input() fitScreenCoordinates?: [PointLike, PointLike];\n  @Input() centerWithPanTo?: boolean;\n  @Input() panToOptions?: AnimationOptions;\n  @Input() cursorStyle?: string;\n\n  @Output() mapResize = new EventEmitter<MapLibreEvent & EventData>();\n  @Output() mapRemove = new EventEmitter<MapLibreEvent & EventData>();\n  @Output() mapMouseDown = new EventEmitter<MapMouseEvent & EventData>();\n  @Output() mapMouseUp = new EventEmitter<MapMouseEvent & EventData>();\n  @Output() mapMouseMove = new EventEmitter<MapMouseEvent & EventData>();\n  @Output() mapClick = new EventEmitter<MapMouseEvent & EventData>();\n  @Output() mapDblClick = new EventEmitter<MapMouseEvent & EventData>();\n  @Output() mapMouseOver = new EventEmitter<MapMouseEvent & EventData>();\n  @Output() mapMouseOut = new EventEmitter<MapMouseEvent & EventData>();\n  @Output() mapContextMenu = new EventEmitter<MapMouseEvent & EventData>();\n  @Output() mapTouchStart = new EventEmitter<MapTouchEvent & EventData>();\n  @Output() mapTouchEnd = new EventEmitter<MapTouchEvent & EventData>();\n  @Output() mapTouchMove = new EventEmitter<MapTouchEvent & EventData>();\n  @Output() mapTouchCancel = new EventEmitter<MapTouchEvent & EventData>();\n  @Output() mapWheel = new EventEmitter<MapWheelEvent & EventData>();\n  @Output() moveStart = new EventEmitter<\n    MapLibreEvent<MouseEvent | TouchEvent | WheelEvent | undefined> & EventData\n  >();\n  @Output() move = new EventEmitter<\n    MapLibreEvent<MouseEvent | TouchEvent | WheelEvent | undefined> & EventData\n  >();\n  @Output() moveEnd = new EventEmitter<\n    MapLibreEvent<MouseEvent | TouchEvent | WheelEvent | undefined> & EventData\n  >();\n  @Output() mapDragStart = new EventEmitter<\n    MapLibreEvent<MouseEvent | TouchEvent | undefined> & EventData\n  >();\n  @Output() mapDrag = new EventEmitter<\n    MapLibreEvent<MouseEvent | TouchEvent | undefined> & EventData\n  >();\n  @Output() mapDragEnd = new EventEmitter<\n    MapLibreEvent<MouseEvent | TouchEvent | undefined> & EventData\n  >();\n  @Output() zoomStart = new EventEmitter<\n    MapLibreEvent<MouseEvent | TouchEvent | WheelEvent | undefined> & EventData\n  >();\n  @Output() zoomEvt = new EventEmitter<\n    MapLibreEvent<MouseEvent | TouchEvent | WheelEvent | undefined> & EventData\n  >();\n  @Output() zoomEnd = new EventEmitter<\n    MapLibreEvent<MouseEvent | TouchEvent | WheelEvent | undefined> & EventData\n  >();\n  @Output() rotateStart = new EventEmitter<\n    MapLibreEvent<MouseEvent | TouchEvent | undefined> & EventData\n  >();\n  @Output() rotate = new EventEmitter<\n    MapLibreEvent<MouseEvent | TouchEvent | undefined> & EventData\n  >();\n  @Output() rotateEnd = new EventEmitter<\n    MapLibreEvent<MouseEvent | TouchEvent | undefined> & EventData\n  >();\n  @Output() pitchStart = new EventEmitter<\n    MapLibreEvent<MouseEvent | TouchEvent | undefined> & EventData\n  >();\n  @Output() pitchEvt = new EventEmitter<\n    MapLibreEvent<MouseEvent | TouchEvent | undefined> & EventData\n  >();\n  @Output() pitchEnd = new EventEmitter<\n    MapLibreEvent<MouseEvent | TouchEvent | undefined> & EventData\n  >();\n  @Output() boxZoomStart = new EventEmitter<MapLibreZoomEvent & EventData>();\n  @Output() boxZoomEnd = new EventEmitter<MapLibreZoomEvent & EventData>();\n  @Output() boxZoomCancel = new EventEmitter<MapLibreZoomEvent & EventData>();\n  @Output() webGlContextLost = new EventEmitter<MapContextEvent & EventData>();\n  @Output() webGlContextRestored = new EventEmitter<\n    MapContextEvent & EventData\n  >();\n  @Output() mapLoad = new EventEmitter<Map>();\n  @Output() idle = new EventEmitter<MapLibreEvent & EventData>();\n  @Output() render = new EventEmitter<MapLibreEvent & EventData>();\n  @Output() mapError = new EventEmitter<ErrorEvent & EventData>();\n  @Output() data = new EventEmitter<MapDataEvent & EventData>();\n  @Output() styleData = new EventEmitter<MapStyleDataEvent & EventData>();\n  @Output() sourceData = new EventEmitter<MapSourceDataEvent & EventData>();\n  @Output() dataLoading = new EventEmitter<MapDataEvent & EventData>();\n  @Output() styleDataLoading = new EventEmitter<\n    MapStyleDataEvent & EventData\n  >();\n  @Output() sourceDataLoading = new EventEmitter<\n    MapSourceDataEvent & EventData\n  >();\n  @Output() styleImageMissing = new EventEmitter<{ id: string } & EventData>();\n\n  get mapInstance(): Map {\n    return this.mapService.mapInstance;\n  }\n\n  private subscriptions: Subscription[] = [];\n\n  @ViewChild('container', { static: true }) mapContainer: ElementRef;\n\n  constructor(private mapService: MapService, private elementRef: ElementRef) {\n    afterNextRender(() => {\n      if (this.preserveDrawingBuffer) {\n        // This is to allow better interaction with the map state\n        const htmlElement: HTMLElement = this.elementRef.nativeElement;\n        htmlElement.setAttribute('data-cy', 'map');\n        this.subscriptions.push(\n          this.mapLoad.subscribe(() => {\n            htmlElement.setAttribute('data-loaded', 'true');\n          })\n        );\n        this.subscriptions.push(\n          this.idle.subscribe(() => {\n            htmlElement.setAttribute('data-idle', 'true');\n          })\n        );\n        this.subscriptions.push(\n          this.render.subscribe(() => {\n            htmlElement.removeAttribute('data-idle');\n          })\n        );\n      }\n\n      this.mapService.setup({\n        mapOptions: {\n          collectResourceTiming: this.collectResourceTiming,\n          container: this.mapContainer.nativeElement,\n          crossSourceCollisions: this.crossSourceCollisions,\n          fadeDuration: this.fadeDuration,\n          minZoom: this.minZoom,\n          maxZoom: this.maxZoom,\n          minPitch: this.minPitch,\n          maxPitch: this.maxPitch,\n          style: this.style,\n          hash: this.hash,\n          interactive: this.interactive,\n          bearingSnap: this.bearingSnap,\n          pitchWithRotate: this.pitchWithRotate,\n          clickTolerance: this.clickTolerance,\n          attributionControl: this.attributionControl,\n          logoPosition: this.logoPosition,\n          failIfMajorPerformanceCaveat: this.failIfMajorPerformanceCaveat,\n          preserveDrawingBuffer: this.preserveDrawingBuffer,\n          refreshExpiredTiles: this.refreshExpiredTiles,\n          maxBounds: this.maxBounds,\n          scrollZoom: this.scrollZoom,\n          boxZoom: this.boxZoom,\n          dragRotate: this.dragRotate,\n          dragPan: this.dragPan,\n          keyboard: this.keyboard,\n          doubleClickZoom: this.doubleClickZoom,\n          touchPitch: this.touchPitch,\n          touchZoomRotate: this.touchZoomRotate,\n          trackResize: this.trackResize,\n          center: this.center,\n          zoom: this.zoom,\n          bearing: this.bearing,\n          pitch: this.pitch,\n          renderWorldCopies: this.renderWorldCopies,\n          maxTileCacheSize: this.maxTileCacheSize,\n          localIdeographFontFamily: this.localIdeographFontFamily,\n          transformRequest: this.transformRequest,\n          bounds: this.bounds ? this.bounds : this.fitBounds,\n          fitBoundsOptions: this.fitBoundsOptions,\n          antialias: this.antialias,\n          locale: this.locale,\n          cooperativeGestures: this.cooperativeGestures,\n          terrain: this.terrain,\n        },\n        mapEvents: this,\n      });\n      if (this.cursorStyle) {\n        this.mapService.changeCanvasCursor(this.cursorStyle);\n      }\n    });\n  }\n\n  ngOnDestroy() {\n    this.mapService.destroyMap();\n    for (const subscription of this.subscriptions) {\n      subscription.unsubscribe();\n    }\n  }\n\n  async ngOnChanges(changes: SimpleChanges) {\n    await firstValueFrom(this.mapService.mapCreated$);\n    if (changes.cursorStyle && !changes.cursorStyle.isFirstChange()) {\n      this.mapService.changeCanvasCursor(changes.cursorStyle.currentValue);\n    }\n    if (changes.minZoom && !changes.minZoom.isFirstChange()) {\n      this.mapService.updateMinZoom(changes.minZoom.currentValue);\n    }\n    if (changes.maxZoom && !changes.maxZoom.isFirstChange()) {\n      this.mapService.updateMaxZoom(changes.maxZoom.currentValue);\n    }\n    if (changes.minPitch && !changes.minPitch.isFirstChange()) {\n      this.mapService.updateMinPitch(changes.minPitch.currentValue);\n    }\n    if (changes.maxPitch && !changes.maxPitch.isFirstChange()) {\n      this.mapService.updateMaxPitch(changes.maxPitch.currentValue);\n    }\n    if (\n      changes.renderWorldCopies &&\n      !changes.renderWorldCopies.isFirstChange()\n    ) {\n      this.mapService.updateRenderWorldCopies(\n        changes.renderWorldCopies.currentValue\n      );\n    }\n    if (changes.scrollZoom && !changes.scrollZoom.isFirstChange()) {\n      this.mapService.updateScrollZoom(changes.scrollZoom.currentValue);\n    }\n    if (changes.dragRotate && !changes.dragRotate.isFirstChange()) {\n      this.mapService.updateDragRotate(changes.dragRotate.currentValue);\n    }\n    if (changes.touchPitch && !changes.touchPitch.isFirstChange()) {\n      this.mapService.updateTouchPitch(changes.touchPitch.currentValue);\n    }\n    if (changes.touchZoomRotate && !changes.touchZoomRotate.isFirstChange()) {\n      this.mapService.updateTouchZoomRotate(\n        changes.touchZoomRotate.currentValue\n      );\n    }\n    if (changes.doubleClickZoom && !changes.doubleClickZoom.isFirstChange()) {\n      this.mapService.updateDoubleClickZoom(\n        changes.doubleClickZoom.currentValue\n      );\n    }\n    if (changes.keyboard && !changes.keyboard.isFirstChange()) {\n      this.mapService.updateKeyboard(changes.keyboard.currentValue);\n    }\n    if (changes.dragPan && !changes.dragPan.isFirstChange()) {\n      this.mapService.updateDragPan(changes.dragPan.currentValue);\n    }\n    if (changes.boxZoom && !changes.boxZoom.isFirstChange()) {\n      this.mapService.updateBoxZoom(changes.boxZoom.currentValue);\n    }\n    if (changes.style && !changes.style.isFirstChange()) {\n      this.mapService.updateStyle(changes.style.currentValue);\n    }\n    if (changes.maxBounds && !changes.maxBounds.isFirstChange()) {\n      this.mapService.updateMaxBounds(changes.maxBounds.currentValue);\n    }\n    if (\n      changes.fitBounds &&\n      changes.fitBounds.currentValue &&\n      !changes.fitBounds.isFirstChange()\n    ) {\n      this.mapService.fitBounds(\n        changes.fitBounds.currentValue,\n        this.fitBoundsOptions\n      );\n    }\n    if (\n      changes.fitScreenCoordinates &&\n      changes.fitScreenCoordinates.currentValue\n    ) {\n      if (\n        (this.center || this.zoom || this.pitch || this.fitBounds) &&\n        changes.fitScreenCoordinates.isFirstChange()\n      ) {\n        console.warn(\n          '[ngx-maplibre-gl] center / zoom / pitch / fitBounds inputs are being overridden by fitScreenCoordinates input'\n        );\n      }\n      this.mapService.fitScreenCoordinates(\n        changes.fitScreenCoordinates.currentValue,\n        this.bearing ? this.bearing[0] : 0,\n        this.movingOptions\n      );\n    }\n    if (\n      this.centerWithPanTo &&\n      changes.center &&\n      !changes.center.isFirstChange() &&\n      !changes.zoom &&\n      !changes.bearing &&\n      !changes.pitch\n    ) {\n      this.mapService.panTo(this.center!, this.panToOptions);\n    } else if (\n      (changes.center && !changes.center.isFirstChange()) ||\n      (changes.zoom && !changes.zoom.isFirstChange()) ||\n      (changes.bearing &&\n        !changes.bearing.isFirstChange() &&\n        !changes.fitScreenCoordinates) ||\n      (changes.pitch && !changes.pitch.isFirstChange())\n    ) {\n      this.mapService.move(\n        this.movingMethod,\n        this.movingOptions,\n        changes.zoom && this.zoom ? this.zoom[0] : undefined,\n        changes.center ? this.center : undefined,\n        changes.bearing && this.bearing ? this.bearing[0] : undefined,\n        changes.pitch && this.pitch ? this.pitch[0] : undefined\n      );\n    }\n    if (changes.terrain && !changes.terrain.isFirstChange()) {\n      this.mapService.updateTerrain(changes.terrain.currentValue);\n    }\n  }\n}\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { LngLatLike, Marker, MarkerOptions } from 'maplibre-gl';\nimport { MapService } from '../map/map.service';\n\n/**\n * `mgl-marker` - a marker component\n * @see [Marker](https://maplibre.org/maplibre-gl-js/docs/API/classes/Marker/)\n * \n * @category Components\n * \n * @example\n * ```html\n * ...\n * <mgl-map ...>\n *   <mgl-marker [lngLat]=\"[-66.324462890625, -16.024695711685304]\">\n *     <div (click)=\"alert('Foo')\" class=\"marker\">Hello</div>\n *   </mgl-marker>\n * </mgl-map>\n * ```\n * \n * Note: Only use this if you **really** need to use HTML/Angular component to render your symbol. These markers are slow compared to a `Layer` of symbol because they're not rendered using WebGL.\n */\n@Component({\n  selector: 'mgl-marker',\n  template: '<div [class]=\"className\" #content><ng-content></ng-content></div>',\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: true,\n})\nexport class MarkerComponent\n  implements OnChanges, OnDestroy, AfterViewInit, OnInit {\n  /* Init input */\n  @Input() offset?: MarkerOptions['offset'];\n  @Input() anchor?: MarkerOptions['anchor'];\n  @Input() clickTolerance?: MarkerOptions['clickTolerance'];\n  @Input() color?: MarkerOptions['color'];\n\n  /* Dynamic input */\n  @Input() feature?: GeoJSON.Feature<GeoJSON.Point>;\n  @Input() lngLat?: LngLatLike;\n  @Input() draggable?: MarkerOptions['draggable'];\n  @Input() popupShown?: boolean;\n  @Input() className: string;\n  @Input() pitchAlignment?: MarkerOptions['pitchAlignment'];\n  @Input() rotationAlignment?: MarkerOptions['rotationAlignment'];\n  @Input() rotation?: MarkerOptions['rotation'];\n\n  @Output() markerDragStart = new EventEmitter<Marker>();\n  @Output() markerDragEnd = new EventEmitter<Marker>();\n  @Output() markerDrag = new EventEmitter<Marker>();\n\n  @ViewChild('content', { static: true }) content: ElementRef;\n\n  markerInstance?: Marker;\n\n  constructor(private mapService: MapService) {}\n\n  ngOnInit() {\n    if (this.feature && this.lngLat) {\n      throw new Error('feature and lngLat input are mutually exclusive');\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.lngLat && !changes.lngLat.isFirstChange()) {\n      this.markerInstance!.setLngLat(this.lngLat!);\n    }\n    if (changes.feature && !changes.feature.isFirstChange()) {\n      this.markerInstance!.setLngLat(\n        <[number, number]>this.feature!.geometry!.coordinates\n      );\n    }\n    if (changes.draggable && !changes.draggable.isFirstChange()) {\n      this.markerInstance!.setDraggable(!!this.draggable);\n    }\n    if (changes.popupShown && !changes.popupShown.isFirstChange()) {\n      changes.popupShown.currentValue\n        ? this.markerInstance!.getPopup().addTo(this.mapService.mapInstance)\n        : this.markerInstance!.getPopup().remove();\n    }\n    if (changes.pitchAlignment && !changes.pitchAlignment.isFirstChange()) {\n      this.markerInstance!.setPitchAlignment(\n        changes.pitchAlignment.currentValue\n      );\n    }\n    if (\n      changes.rotationAlignment &&\n      !changes.rotationAlignment.isFirstChange()\n    ) {\n      this.markerInstance!.setRotationAlignment(\n        changes.rotationAlignment.currentValue\n      );\n    }\n    if (\n      changes.rotation &&\n      !changes.rotation.isFirstChange()\n    ) {\n      this.markerInstance!.setRotation(\n        changes.rotation.currentValue\n      );\n    }\n  }\n\n  ngAfterViewInit() {\n    this.mapService.mapCreated$.subscribe(() => {\n      this.markerInstance = this.mapService.addMarker({\n        markersOptions: {\n          offset: this.offset,\n          anchor: this.anchor,\n          color: this.color,\n          pitchAlignment: this.pitchAlignment,\n          rotationAlignment: this.rotationAlignment,\n          rotation: this.rotation,\n          draggable: !!this.draggable,\n          element: this.content.nativeElement,\n          feature: this.feature,\n          lngLat: this.lngLat,\n          clickTolerance: this.clickTolerance,\n        },\n        markersEvents: {\n          markerDragStart: this.markerDragStart,\n          markerDrag: this.markerDrag,\n          markerDragEnd: this.markerDragEnd,\n        },\n      });\n    });\n  }\n\n  ngOnDestroy() {\n    this.mapService.removeMarker(this.markerInstance!);\n    this.markerInstance = undefined;\n  }\n\n  togglePopup() {\n    this.markerInstance!.togglePopup();\n  }\n\n  updateCoordinates(coordinates: number[]) {\n    this.markerInstance!.setLngLat(<[number, number]>coordinates);\n  }\n}\n","import {\n  AfterContentInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ContentChild,\n  Directive,\n  Input,\n  NgZone,\n  OnDestroy,\n  TemplateRef,\n} from '@angular/core';\nimport { MapGeoJSONFeature, MapSourceDataEvent } from 'maplibre-gl';\nimport { fromEvent, merge, Subscription } from 'rxjs';\nimport { filter, startWith, switchMap } from 'rxjs/operators';\nimport { MapService } from '../map/map.service';\nimport { MarkerComponent } from '../marker/marker.component';\nimport { NgFor, NgIf, NgTemplateOutlet } from '@angular/common';\nimport { LayerComponent } from '../layer/layer.component';\n\n/**\n * a template directive for point for {@link MarkersForClustersComponent}\n * \n * @category Directives\n */\n@Directive({\n  selector: 'ng-template[mglPoint]',\n  standalone: true,\n})\nexport class PointDirective {}\n\n/**\n * a template directive for clustered point for {@link MarkersForClustersComponent}\n * \n * @category Directives\n */\n@Directive({\n  selector: 'ng-template[mglClusterPoint]',\n  standalone: true,\n})\nexport class ClusterPointDirective {}\n\nlet uniqId = 0;\n\n/**\n * [ngx] `mgl-markers-for-clusters` - an HTML marker component for clustered points.\n * Requires a geojson source that is clustered.\n * \n * @category Components\n * \n * @example\n * ```html\n * ...\n * <mgl-map ...>\n *   <mgl-markers-for-cluster [source]=\"myGeoJsonclusteredSource\">\n *     <ng-template mglPoint let-feature> Marker! </ng-template>\n *     <ng-template mglClusterPoint let-feature>\n *       ClusterId: {{feature.properties?.cluster_id}}, Points:\n *       {{feature.properties?.point_count}}\n *     </ng-template>\n *   </mgl-markers-for-cluster>\n * </mgl-map>\n * ```\n * \n * Note: Only use this if you **really** need to use HTML/Angular component to render your symbols. This is **slower** than rendering symbols in WebGL.\n */ \n @Component({\n  selector: 'mgl-markers-for-clusters',\n  template: `\n    <mgl-layer\n      [id]=\"layerId\"\n      [source]=\"source\"\n      type=\"circle\"\n      [paint]=\"{ 'circle-radius': 0 }\"\n    ></mgl-layer>\n    <ng-container\n      *ngFor=\"let feature of clusterPoints; trackBy: trackByClusterPoint\"\n    >\n      <ng-container *ngIf=\"feature.properties.cluster\">\n        <mgl-marker [feature]=\"feature\">\n          <ng-container\n            *ngTemplateOutlet=\"clusterPointTpl; context: { $implicit: feature }\"\n          ></ng-container>\n        </mgl-marker>\n      </ng-container>\n      <ng-container *ngIf=\"!feature.properties.cluster\">\n        <mgl-marker [feature]=\"feature\">\n          <ng-container\n            *ngTemplateOutlet=\"pointTpl; context: { $implicit: feature }\"\n          ></ng-container>\n        </mgl-marker>\n      </ng-container>\n    </ng-container>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  preserveWhitespaces: false,\n  standalone: true,\n  imports: [LayerComponent, NgFor, NgIf, MarkerComponent, NgTemplateOutlet],\n})\nexport class MarkersForClustersComponent\n  implements OnDestroy, AfterContentInit {\n  /** Init input */\n  @Input() source: string;\n\n  /** @hidden */\n  @ContentChild(PointDirective, { read: TemplateRef, static: false })\n  pointTpl?: TemplateRef<any>;\n  /** @hidden */\n  @ContentChild(ClusterPointDirective, { read: TemplateRef, static: false })\n  clusterPointTpl: TemplateRef<any>;\n\n  /** @hidden */\n  clusterPoints: MapGeoJSONFeature[];\n  /** @hidden */\n  layerId = `mgl-markers-for-clusters-${uniqId++}`;\n\n  private sub = new Subscription();\n\n  constructor(\n    private mapService: MapService,\n    private changeDetectorRef: ChangeDetectorRef,\n    private ngZone: NgZone\n  ) {}\n\n  ngAfterContentInit() {\n    const clusterDataUpdate = () =>\n      fromEvent<MapSourceDataEvent>(this.mapService.mapInstance, 'data').pipe(\n        filter(\n          (e) =>\n            e.sourceId === this.source &&\n            e.sourceDataType !== 'metadata' &&\n            this.mapService.mapInstance.isSourceLoaded(this.source)\n        )\n      );\n    const sub = this.mapService.mapCreated$\n      .pipe(\n        switchMap(clusterDataUpdate),\n        switchMap(() =>\n          merge(\n            fromEvent(this.mapService.mapInstance, 'move'),\n            fromEvent(this.mapService.mapInstance, 'moveend')\n          ).pipe(startWith(undefined))\n        )\n      )\n      .subscribe(() => {\n        this.ngZone.run(() => {\n          this.updateCluster();\n        });\n      });\n    this.sub.add(sub);\n  }\n\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n  }\n\n  trackByClusterPoint(_index: number, clusterPoint: { id: number }) {\n    return clusterPoint.id;\n  }\n\n  private updateCluster() {\n    const params: any = { layers: [this.layerId] };\n    if (!this.pointTpl) {\n      params.filter = ['==', 'cluster', true];\n    }\n    this.clusterPoints = this.mapService.mapInstance.queryRenderedFeatures(\n      params\n    );\n    this.changeDetectorRef.markForCheck();\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges,\n  ViewChild,\n  afterNextRender,\n} from '@angular/core';\nimport { LngLatLike, Offset, Popup, PopupOptions } from 'maplibre-gl';\nimport { MapService } from '../map/map.service';\nimport { MarkerComponent } from '../marker/marker.component';\n\n/**\n * `mgl-popup` - a popup component\n * @see [Popup](https://maplibre.org/maplibre-gl-js/docs/API/classes/Popup/)\n *\n * @category Components\n *\n * @example\n * ```html\n * ...\n * <mgl-map ...>\n *   <mgl-popup [lngLat]=\"[-96, 37.8]\" [closeOnClick]=\"false\">\n *     <h1>Hello world !</h1>\n *   </mgl-popup>\n *   ...\n *   <mgl-marker #myMarker ...> ... </mgl-marker>\n *   <mgl-popup [marker]=\"myMarker\"> Hello from marker ! </mgl-popup>\n * </mgl-map>\n * ```\n */\n@Component({\n  selector: 'mgl-popup',\n  template: '<div #content data-cy=\"mgl-popup\"><ng-content></ng-content></div>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: true,\n})\nexport class PopupComponent implements OnChanges, OnDestroy, OnInit {\n  /** Init input */\n  @Input() closeButton?: PopupOptions['closeButton'];\n  /** Init input */\n  @Input() closeOnClick?: PopupOptions['closeOnClick'];\n  /** Init input */\n  @Input() closeOnMove?: PopupOptions['closeOnMove'];\n  /** Init input */\n  @Input() focusAfterOpen?: PopupOptions['focusAfterOpen'];\n  /** Init input */\n  @Input() anchor?: PopupOptions['anchor'];\n  /** Init input */\n  @Input() className?: PopupOptions['className'];\n  /** Init input */\n  @Input() maxWidth?: PopupOptions['maxWidth'];\n\n  /**\n   * Dynamic input [ngx]\n   * Mutually exclusive with `lngLat`\n   */\n  @Input() feature?: GeoJSON.Feature<GeoJSON.Point>;\n  /** Dynamic input */\n  @Input() lngLat?: LngLatLike;\n  /**\n   * Dynamic input [ngx]\n   * The targeted marker\n   */\n  @Input() marker?: MarkerComponent;\n  /** Dynamic input */\n  @Input() offset?: Offset;\n\n  @Output() popupClose = new EventEmitter<void>();\n  @Output() popupOpen = new EventEmitter<void>();\n\n  /** @hidden */\n  @ViewChild('content', { static: true }) content: ElementRef;\n\n  popupInstance?: maplibregl.Popup;\n\n  constructor(private mapService: MapService) {\n    afterNextRender(() => {\n      this.popupInstance = this.createPopup();\n      this.addPopup(this.popupInstance as Popup);\n    });\n  }\n\n  ngOnInit() {\n    if (\n      (this.lngLat && this.marker) ||\n      (this.feature && this.lngLat) ||\n      (this.feature && this.marker)\n    ) {\n      throw new Error('marker, lngLat, feature input are mutually exclusive');\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.feature && !changes.feature.isFirstChange()) {\n      const newlngLat = changes.lngLat\n        ? this.lngLat!\n        : <[number, number]>this.feature!.geometry!.coordinates!;\n      this.mapService.removePopupFromMap(this.popupInstance!, true);\n      const popupInstanceTmp = this.createPopup();\n      this.mapService.addPopupToMap(\n        popupInstanceTmp,\n        newlngLat,\n        this.popupInstance!.isOpen()\n      );\n      this.popupInstance = popupInstanceTmp;\n    }\n\n    if (changes.lngLat && !changes.lngLat.isFirstChange()) {\n      this.popupInstance!.setLngLat(this.lngLat!);\n    }\n\n    if (changes.marker && !changes.marker.isFirstChange()) {\n      const previousMarker: MarkerComponent = changes.marker.previousValue;\n      if (previousMarker.markerInstance) {\n        this.mapService.removePopupFromMarker(previousMarker.markerInstance);\n      }\n      if (this.marker && this.marker.markerInstance && this.popupInstance) {\n        this.mapService.addPopupToMarker(\n          this.marker.markerInstance,\n          this.popupInstance\n        );\n      }\n    }\n    if (\n      changes.offset &&\n      !changes.offset.isFirstChange() &&\n      this.popupInstance\n    ) {\n      this.popupInstance.setOffset(this.offset);\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.popupInstance) {\n      if (this.lngLat || this.feature) {\n        this.mapService.removePopupFromMap(this.popupInstance);\n      } else if (this.marker && this.marker.markerInstance) {\n        this.mapService.removePopupFromMarker(this.marker.markerInstance);\n      }\n    }\n    this.popupInstance = undefined;\n  }\n\n  private createPopup() {\n    return this.mapService.createPopup(\n      {\n        popupOptions: {\n          closeButton: this.closeButton,\n          closeOnClick: this.closeOnClick,\n          closeOnMove: this.closeOnMove,\n          focusAfterOpen: this.focusAfterOpen,\n          anchor: this.anchor,\n          offset: this.offset,\n          className: this.className,\n          maxWidth: this.maxWidth,\n        },\n        popupEvents: {\n          popupOpen: this.popupOpen,\n          popupClose: this.popupClose,\n        },\n      },\n      this.content.nativeElement\n    );\n  }\n\n  private addPopup(popup: Popup) {\n    this.mapService.mapCreated$.subscribe(() => {\n      if (this.lngLat || this.feature) {\n        this.mapService.addPopupToMap(\n          popup,\n          this.lngLat\n            ? this.lngLat\n            : <[number, number]>this.feature!.geometry!.coordinates!\n        );\n      } else if (this.marker && this.marker.markerInstance) {\n        this.mapService.addPopupToMarker(this.marker.markerInstance, popup);\n      } else {\n        throw new Error(\n          'mgl-popup need either lngLat/marker/feature to be set'\n        );\n      }\n    });\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  SimpleChanges,\n} from '@angular/core';\nimport { CanvasSource, CanvasSourceSpecification } from 'maplibre-gl';\nimport { fromEvent, Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { MapService } from '../map/map.service';\n\n/**\n * `mgl-canvas-source` - a canvas source component\n * @see [canvas](https://maplibre.org/maplibre-style-spec/sources/#canvas)\n * \n * @category Source Components\n */\n@Component({\n  selector: 'mgl-canvas-source',\n  template: '',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: true,\n})\nexport class CanvasSourceComponent\n  implements OnInit, OnDestroy, OnChanges, CanvasSourceSpecification {\n  /**  Init input */\n  @Input() id: string;\n\n  /** Dynamic input */\n  @Input() coordinates: CanvasSourceSpecification['coordinates'];\n  /** Dynamic input */\n  @Input() canvas: CanvasSourceSpecification['canvas'];\n  /** Dynamic input */\n  @Input() animate?: CanvasSourceSpecification['animate'];\n\n  type: CanvasSourceSpecification['type'] = 'canvas';\n  private sourceAdded = false;\n  private sub = new Subscription();\n\n  constructor(private mapService: MapService) {}\n\n  ngOnInit() {\n    const sub1 = this.mapService.mapLoaded$.subscribe(() => {\n      this.init();\n      const sub = fromEvent(this.mapService.mapInstance, 'styledata')\n        .pipe(filter(() => !this.mapService.mapInstance.getSource(this.id)))\n        .subscribe(() => {\n          this.init();\n        });\n      this.sub.add(sub);\n    });\n    this.sub.add(sub1);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (!this.sourceAdded) {\n      return;\n    }\n    if (\n      (changes.canvas && !changes.canvas.isFirstChange()) ||\n      (changes.animate && !changes.animate.isFirstChange())\n    ) {\n      this.ngOnDestroy();\n      this.ngOnInit();\n    } else if (changes.coordinates && !changes.coordinates.isFirstChange()) {\n      const source = this.mapService.getSource<CanvasSource>(this.id);\n      if (source === undefined) {\n        return;\n      }\n      source.setCoordinates(this.coordinates);\n    }\n  }\n\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n    if (this.sourceAdded) {\n      this.mapService.removeSource(this.id);\n      this.sourceAdded = false;\n    }\n  }\n\n  private init() {\n    const source: CanvasSourceSpecification = {\n      type: 'canvas',\n      coordinates: this.coordinates,\n      canvas: this.canvas,\n      animate: this.animate,\n    };\n    this.mapService.addSource(this.id, source as any);\n    this.sourceAdded = true;\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  SimpleChanges,\n} from '@angular/core';\nimport { ImageSourceSpecification, ImageSource } from 'maplibre-gl';\nimport { Subscription } from 'rxjs';\nimport { MapService } from '../map/map.service';\n\n@Component({\n  selector: 'mgl-image-source',\n  template: '',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: true,\n})\nexport class ImageSourceComponent\n  implements OnInit, OnDestroy, OnChanges, ImageSourceSpecification {\n  /* Init inputs */\n  @Input() id: string;\n\n  /* Dynamic inputs */\n  @Input() url: ImageSourceSpecification['url'];\n  @Input() coordinates: ImageSourceSpecification['coordinates'];\n\n  type: ImageSourceSpecification['type'] = 'image';\n\n  private sub: Subscription;\n  private sourceId?: string;\n\n  constructor(private mapService: MapService) {}\n\n  ngOnInit() {\n    this.sub = this.mapService.mapLoaded$.subscribe(() => this.init());\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (this.sourceId === undefined) {\n      return;\n    }\n    const source = this.mapService.getSource<ImageSource>(this.sourceId);\n    if (source === undefined) {\n      return;\n    }\n    source.updateImage({\n      url: changes.url === undefined ? (undefined as any) : this.url,\n      coordinates:\n        changes.coordinates === undefined ? undefined : this.coordinates,\n    });\n  }\n\n  ngOnDestroy() {\n    if (this.sub !== undefined) {\n      this.sub.unsubscribe();\n    }\n\n    if (this.sourceId !== undefined) {\n      this.mapService.removeSource(this.sourceId);\n      this.sourceId = undefined;\n    }\n  }\n\n  private init() {\n    const imageSource: ImageSourceSpecification = {\n      type: 'image',\n      url: this.url,\n      coordinates: this.coordinates,\n    };\n    this.mapService.addSource(this.id, imageSource);\n    this.sourceId = this.id;\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  SimpleChanges,\n} from '@angular/core';\nimport { RasterDEMSourceSpecification } from 'maplibre-gl';\nimport { fromEvent, Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { MapService } from '../map/map.service';\n\n/**\n * `mgl-raster-dem-source` - a raster DEM source\n * @see [raster DEM](https://maplibre.org/maplibre-style-spec/sources/#raster-dem)\n * \n * @category Source Components\n */\n@Component({\n  selector: 'mgl-raster-dem-source',\n  template: '',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: true,\n})\nexport class RasterDemSourceComponent\n  implements OnInit, OnDestroy, OnChanges, RasterDEMSourceSpecification {\n  /** Init input */\n  @Input() id: string;\n\n  /** Dynamic input */\n  @Input() url?: RasterDEMSourceSpecification['url'];\n  /** Dynamic input */\n  @Input() tiles?: RasterDEMSourceSpecification['tiles'];\n  /** Dynamic input */\n  @Input() bounds?: RasterDEMSourceSpecification['bounds'];\n  /** Dynamic input */\n  @Input() minzoom?: RasterDEMSourceSpecification['minzoom'];\n  /** Dynamic input */\n  @Input() maxzoom?: RasterDEMSourceSpecification['maxzoom'];\n  /** Dynamic input */\n  @Input() tileSize?: RasterDEMSourceSpecification['tileSize'];\n  /** Dynamic input */\n  @Input() attribution?: RasterDEMSourceSpecification['attribution'];\n  /** Dynamic input */\n  @Input() encoding?: RasterDEMSourceSpecification['encoding'];\n\n  /** @hidden */\n  type: RasterDEMSourceSpecification['type'] = 'raster-dem';\n\n  private sourceAdded = false;\n  private sub = new Subscription();\n\n  constructor(private mapService: MapService) {}\n\n  ngOnInit() {\n    const sub1 = this.mapService.mapLoaded$.subscribe(() => {\n      this.init();\n      const sub = fromEvent(this.mapService.mapInstance, 'styledata')\n        .pipe(filter(() => !this.mapService.mapInstance.getSource(this.id)))\n        .subscribe(() => {\n          this.init();\n        });\n      this.sub.add(sub);\n    });\n    this.sub.add(sub1);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (!this.sourceAdded) {\n      return;\n    }\n    if (\n      (changes.url && !changes.url.isFirstChange()) ||\n      (changes.tiles && !changes.tiles.isFirstChange()) ||\n      (changes.bounds && !changes.bounds.isFirstChange()) ||\n      (changes.minzoom && !changes.minzoom.isFirstChange()) ||\n      (changes.maxzoom && !changes.maxzoom.isFirstChange()) ||\n      (changes.tileSize && !changes.tileSize.isFirstChange()) ||\n      (changes.attribution && !changes.attribution.isFirstChange()) ||\n      (changes.encoding && !changes.encoding.isFirstChange())\n    ) {\n      this.ngOnDestroy();\n      this.ngOnInit();\n    }\n  }\n\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n    if (this.sourceAdded) {\n      this.mapService.removeSource(this.id);\n      this.sourceAdded = false;\n    }\n  }\n\n  private init() {\n    const source: RasterDEMSourceSpecification = {\n      type: this.type,\n      url: this.url,\n      tiles: this.tiles,\n      bounds: this.bounds,\n      minzoom: this.minzoom,\n      maxzoom: this.maxzoom,\n      tileSize: this.tileSize,\n      attribution: this.attribution,\n      encoding: this.encoding,\n    };\n    this.mapService.addSource(this.id, source);\n    this.sourceAdded = true;\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  SimpleChanges,\n} from '@angular/core';\nimport { RasterSourceSpecification } from 'maplibre-gl';\nimport { fromEvent, Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { MapService } from '../map/map.service';\n\n/**\n * `mgl-raster-source` - a raster source component\n * @see [raster](https://maplibre.org/maplibre-style-spec/sources/#raster)\n * \n * @category Source Components\n */\n@Component({\n  selector: 'mgl-raster-source',\n  template: '',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: true,\n})\nexport class RasterSourceComponent\n  implements OnInit, OnDestroy, OnChanges, RasterSourceSpecification {\n  /** Init input */\n  @Input() id: string;\n\n  /** Dynamic input */\n  @Input() url?: RasterSourceSpecification['url'];\n  /** Dynamic input */\n  @Input() tiles?: RasterSourceSpecification['tiles'];\n  /** Dynamic input */\n  @Input() bounds?: RasterSourceSpecification['bounds'];\n  /** Dynamic input */\n  @Input() minzoom?: RasterSourceSpecification['minzoom'];\n  /** Dynamic input */\n  @Input() maxzoom?: RasterSourceSpecification['maxzoom'];\n  /** Dynamic input */\n  @Input() tileSize?: RasterSourceSpecification['tileSize'];\n  /** Dynamic input */\n  @Input() scheme?: RasterSourceSpecification['scheme'];\n  /** Dynamic input */\n  @Input() attribution?: RasterSourceSpecification['attribution'];\n\n  /** @hidden */\n  type: RasterSourceSpecification['type'] = 'raster';\n\n  private sourceAdded = false;\n  private sub = new Subscription();\n\n  constructor(private mapService: MapService) {}\n\n  ngOnInit() {\n    const sub1 = this.mapService.mapLoaded$.subscribe(() => {\n      this.init();\n      const sub = fromEvent(this.mapService.mapInstance, 'styledata')\n        .pipe(filter(() => !this.mapService.mapInstance.getSource(this.id)))\n        .subscribe(() => {\n          this.init();\n        });\n      this.sub.add(sub);\n    });\n    this.sub.add(sub1);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (!this.sourceAdded) {\n      return;\n    }\n    if (\n      (changes.url && !changes.url.isFirstChange()) ||\n      (changes.tiles && !changes.tiles.isFirstChange()) ||\n      (changes.bounds && !changes.bounds.isFirstChange()) ||\n      (changes.minzoom && !changes.minzoom.isFirstChange()) ||\n      (changes.maxzoom && !changes.maxzoom.isFirstChange()) ||\n      (changes.tileSize && !changes.tileSize.isFirstChange()) ||\n      (changes.scheme && !changes.scheme.isFirstChange()) ||\n      (changes.attribution && !changes.attribution.isFirstChange())\n    ) {\n      this.ngOnDestroy();\n      this.ngOnInit();\n    }\n  }\n\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n    if (this.sourceAdded) {\n      this.mapService.removeSource(this.id);\n      this.sourceAdded = false;\n    }\n  }\n\n  private init() {\n    const source: RasterSourceSpecification = {\n      type: this.type,\n      url: this.url,\n      tiles: this.tiles,\n      bounds: this.bounds,\n      minzoom: this.minzoom,\n      maxzoom: this.maxzoom,\n      tileSize: this.tileSize,\n      scheme: this.scheme,\n      attribution: this.attribution,\n    };\n    this.mapService.addSource(this.id, source);\n    this.sourceAdded = true;\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  SimpleChanges,\n} from '@angular/core';\nimport { VectorSourceSpecification, VectorTileSource } from 'maplibre-gl';\nimport { fromEvent, Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { MapService } from '../map/map.service';\n\n/**\n * `mgl-vector-source` - a vector source component\n * @see [vector](https://maplibre.org/maplibre-style-spec/sources/#vector)\n * \n * @category Source Components\n */\n@Component({\n  selector: 'mgl-vector-source',\n  template: '',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: true,\n})\nexport class VectorSourceComponent\n  implements OnInit, OnDestroy, OnChanges, VectorSourceSpecification {\n  /* Init inputs */\n  @Input() id: string;\n\n  /* Dynamic inputs */\n  @Input() url?: VectorSourceSpecification['url'];\n  @Input() tiles?: VectorSourceSpecification['tiles'];\n  @Input() bounds?: VectorSourceSpecification['bounds'];\n  @Input() scheme?: VectorSourceSpecification['scheme'];\n  @Input() minzoom?: VectorSourceSpecification['minzoom'];\n  @Input() maxzoom?: VectorSourceSpecification['maxzoom'];\n  @Input() attribution?: VectorSourceSpecification['attribution'];\n  @Input() promoteId?: VectorSourceSpecification['promoteId'];\n\n  type: VectorSourceSpecification['type'] = 'vector';\n\n  private sourceAdded = false;\n  private sub = new Subscription();\n\n  constructor(private mapService: MapService) {}\n\n  ngOnInit() {\n    const sub1 = this.mapService.mapLoaded$.subscribe(() => {\n      this.init();\n      const sub = fromEvent(this.mapService.mapInstance, 'styledata')\n        .pipe(filter(() => !this.mapService.mapInstance.getSource(this.id)))\n        .subscribe(() => {\n          this.init();\n        });\n      this.sub.add(sub);\n    });\n    this.sub.add(sub1);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (!this.sourceAdded) {\n      return;\n    }\n\n    if (\n      (changes.bounds && !changes.bounds.isFirstChange()) ||\n      (changes.scheme && !changes.scheme.isFirstChange()) ||\n      (changes.minzoom && !changes.minzoom.isFirstChange()) ||\n      (changes.maxzoom && !changes.maxzoom.isFirstChange()) ||\n      (changes.attribution && !changes.attribution.isFirstChange()) ||\n      (changes.promoteId && !changes.promoteId.isFirstChange())\n    ) {\n      this.ngOnDestroy();\n      this.ngOnInit();\n    } else if (\n      (changes.url && !changes.url.isFirstChange()) ||\n      (changes.tiles && !changes.tiles.isFirstChange())\n    ) {\n      const source = this.mapService.getSource<VectorTileSource>(this.id);\n      if (source === undefined) {\n        return;\n      }\n      if (changes.url && this.url) {\n        source.setUrl(this.url);\n      }\n\n      if (changes.tiles && this.tiles) {\n        source.setTiles(this.tiles);\n      }\n    }\n  }\n\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n    if (this.sourceAdded) {\n      this.mapService.removeSource(this.id);\n      this.sourceAdded = false;\n    }\n  }\n\n  private init() {\n    const source: VectorSourceSpecification = {\n      type: this.type,\n      url: this.url,\n      tiles: this.tiles,\n      bounds: this.bounds,\n      scheme: this.scheme,\n      minzoom: this.minzoom,\n      maxzoom: this.maxzoom,\n      attribution: this.attribution,\n      promoteId: this.promoteId,\n    };\n    this.mapService.addSource(this.id, source);\n    this.sourceAdded = true;\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  SimpleChanges,\n} from '@angular/core';\nimport { VideoSource, VideoSourceSpecification } from 'maplibre-gl';\nimport { fromEvent, Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { MapService } from '../map/map.service';\n\n/**\n * `mgl-video-source` - a video source \n * @see [video](https://maplibre.org/maplibre-style-spec/sources/#video)\n * \n * @category Source Components\n */\n@Component({\n  selector: 'mgl-video-source',\n  template: '',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: true,\n})\nexport class VideoSourceComponent\n  implements OnInit, OnDestroy, OnChanges, VideoSourceSpecification {\n  /** Init input */\n  @Input() id: string;\n\n  /** Dynamic input */\n  @Input() urls: VideoSourceSpecification['urls'];\n  /** Dynamic input */\n  @Input() coordinates: VideoSourceSpecification['coordinates'];\n\n  /** @hidden */\n  type: VideoSourceSpecification['type'] = 'video';\n\n  private sourceAdded = false;\n  private sub = new Subscription();\n\n  constructor(private mapService: MapService) {}\n\n  ngOnInit() {\n    const sub1 = this.mapService.mapLoaded$.subscribe(() => {\n      this.init();\n      const sub = fromEvent(this.mapService.mapInstance, 'styledata')\n        .pipe(filter(() => !this.mapService.mapInstance.getSource(this.id)))\n        .subscribe(() => {\n          this.init();\n        });\n      this.sub.add(sub);\n    });\n    this.sub.add(sub1);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (!this.sourceAdded) {\n      return;\n    }\n\n    if (changes.urls && !changes.urls.isFirstChange()) {\n      this.ngOnDestroy();\n      this.ngOnInit();\n    } else if (changes.coordinates && !changes.coordinates.isFirstChange()) {\n      const source = this.mapService.getSource<VideoSource>(this.id);\n      if (source === undefined) {\n        return;\n      }\n      source.setCoordinates(this.coordinates!);\n    }\n  }\n\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n    if (this.sourceAdded) {\n      this.mapService.removeSource(this.id);\n      this.sourceAdded = false;\n    }\n  }\n\n  private init() {\n    const source: VideoSourceSpecification = {\n      type: 'video',\n      urls: this.urls,\n      coordinates: this.coordinates,\n    };\n    this.mapService.addSource(this.id, source);\n    this.sourceAdded = true;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { AttributionControlDirective } from './control/attribution-control.directive';\nimport { ControlComponent } from './control/control.component';\nimport { FullscreenControlDirective } from './control/fullscreen-control.directive';\nimport { GeolocateControlDirective } from './control/geolocate-control.directive';\nimport { NavigationControlDirective } from './control/navigation-control.directive';\nimport { ScaleControlDirective } from './control/scale-control.directive';\nimport { TerrainControlDirective } from './control/terrain-control.directive';\nimport { DraggableDirective } from './draggable/draggable.directive';\nimport { ImageComponent } from './image/image.component';\nimport { LayerComponent } from './layer/layer.component';\nimport { MapComponent } from './map/map.component';\nimport { MarkerComponent } from './marker/marker.component';\nimport {\n  ClusterPointDirective,\n  PointDirective,\n  MarkersForClustersComponent,\n} from './markers-for-clusters/markers-for-clusters.component';\nimport { PopupComponent } from './popup/popup.component';\nimport { CanvasSourceComponent } from './source/canvas-source.component';\nimport { FeatureComponent } from './source/geojson/feature.component';\nimport { GeoJSONSourceComponent } from './source/geojson/geojson-source.component';\nimport { ImageSourceComponent } from './source/image-source.component';\nimport { RasterDemSourceComponent } from './source/raster-dem-source.component';\nimport { RasterSourceComponent } from './source/raster-source.component';\nimport { VectorSourceComponent } from './source/vector-source.component';\nimport { VideoSourceComponent } from './source/video-source.component';\n\nconst componentsAndDirectives = [\n  MapComponent,\n  LayerComponent,\n  DraggableDirective,\n  ImageComponent,\n  VectorSourceComponent,\n  GeoJSONSourceComponent,\n  RasterDemSourceComponent,\n  RasterSourceComponent,\n  ImageSourceComponent,\n  VideoSourceComponent,\n  CanvasSourceComponent,\n  FeatureComponent,\n  MarkerComponent,\n  PopupComponent,\n  ControlComponent,\n  FullscreenControlDirective,\n  NavigationControlDirective,\n  GeolocateControlDirective,\n  AttributionControlDirective,\n  ScaleControlDirective,\n  PointDirective,\n  ClusterPointDirective,\n  MarkersForClustersComponent,\n  TerrainControlDirective,\n];\n\n@NgModule({\n  imports: [...componentsAndDirectives],\n  exports: [...componentsAndDirectives],\n})\nexport class NgxMapLibreGLModule {}\n","/*\n * Public API Surface of ngx-maplibre-gl\n */\n\nexport * from './lib/ngx-maplibre-gl.module';\n\n// Expose components to allow custom directives\nexport * from './lib/control/control.component';\nexport * from './lib/draggable/draggable.directive';\nexport * from './lib/layer/layer.component';\nexport * from './lib/image/image.component';\nexport * from './lib/source/vector-source.component';\nexport * from './lib/source/video-source.component';\nexport * from './lib/source/canvas-source.component';\nexport * from './lib/source/image-source.component';\nexport * from './lib/source/raster-dem-source.component';\nexport * from './lib/source/raster-source.component';\nexport * from './lib/source/geojson/feature.component';\nexport * from './lib/marker/marker.component';\nexport * from './lib/popup/popup.component';\nexport * from './lib/control/fullscreen-control.directive';\nexport * from './lib/control/geolocate-control.directive';\nexport * from './lib/control/navigation-control.directive';\nexport * from './lib/control/attribution-control.directive';\nexport * from './lib/control/scale-control.directive';\nexport * from './lib/markers-for-clusters/markers-for-clusters.component';\nexport * from './lib/control/terrain-control.directive';\n\n// Expose MapService for ngx-maplibre-gl extensions\nexport * from './lib/map/map.service';\nexport * from './lib/map/map.component';\n\n// Expose GeoJSONSourceComponent to access cluster functions\nexport * from './lib/source/geojson/geojson-source.component';\n\nexport * from './lib/map/map.types';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["i1.MapService","i2.ControlComponent","i2.FeatureComponent"],"mappings":"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"}